{
  "last_node_id": 200,
  "last_link_id": 369,
  "nodes": [
    {
      "id": 159,
      "type": "OpenposePreprocessor",
      "pos": [
        -4038,
        1125
      ],
      "size": {
        "0": 315,
        "1": 150
      },
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 317,
          "label": "图像"
        },
        {
          "name": "resolution",
          "type": "INT",
          "link": 318,
          "widget": {
            "name": "resolution"
          },
          "label": "分辨率"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            319
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        },
        {
          "name": "POSE_KEYPOINT",
          "type": "POSE_KEYPOINT",
          "links": null,
          "shape": 3,
          "label": "姿态关键点"
        }
      ],
      "properties": {
        "Node name for S&R": "OpenposePreprocessor"
      },
      "widgets_values": [
        "enable",
        "enable",
        "enable",
        512
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 107,
      "type": "ControlNetApplyAdvanced",
      "pos": [
        -4036,
        827
      ],
      "size": {
        "0": 315,
        "1": 166
      },
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 247,
          "label": "正面条件",
          "slot_index": 0
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 248,
          "label": "负面条件",
          "slot_index": 1
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 213,
          "label": "ControlNet"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 319,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            218
          ],
          "shape": 3,
          "label": "正面条件",
          "slot_index": 0
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            219
          ],
          "shape": 3,
          "label": "负面条件",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetApplyAdvanced"
      },
      "widgets_values": [
        1,
        0,
        0.7000000000000001
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 103,
      "type": "ControlNetLoader",
      "pos": [
        -4037,
        1028
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 0,
      "mode": 0,
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            213
          ],
          "shape": 3,
          "label": "ControlNet"
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "control_v11p_sd15_openpose"
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 108,
      "type": "ControlNetApplyAdvanced",
      "pos": [
        -3714,
        832
      ],
      "size": {
        "0": 315,
        "1": 166
      },
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 218,
          "label": "正面条件",
          "slot_index": 0
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 219,
          "label": "负面条件",
          "slot_index": 1
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 220,
          "label": "ControlNet"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 221,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            223
          ],
          "shape": 3,
          "label": "正面条件",
          "slot_index": 0
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            224
          ],
          "shape": 3,
          "label": "负面条件",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetApplyAdvanced"
      },
      "widgets_values": [
        0.6,
        0,
        0.4
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 105,
      "type": "ControlNetLoader",
      "pos": [
        -3713,
        1035
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 1,
      "mode": 0,
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            220
          ],
          "shape": 3,
          "label": "ControlNet"
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "t2iadapter_zoedepth_sd15v1"
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 42,
      "type": "Zoe-DepthMapPreprocessor",
      "pos": [
        -3711,
        1135
      ],
      "size": {
        "0": 310.9538879394531,
        "1": 133.62327575683594
      },
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 68,
          "label": "图像"
        },
        {
          "name": "resolution",
          "type": "INT",
          "link": 132,
          "widget": {
            "name": "resolution"
          },
          "label": "分辨率"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            221
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "Zoe-DepthMapPreprocessor"
      },
      "widgets_values": [
        512
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 78,
      "type": "easy imagePixelPerfect",
      "pos": [
        -4036,
        1314
      ],
      "size": {
        "0": 309.5052490234375,
        "1": 103.68589782714844
      },
      "flags": {
        "collapsed": false
      },
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 130,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "resolution",
          "type": "INT",
          "links": [
            132,
            318
          ],
          "shape": 3,
          "label": "分辨率（整数）",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "easy imagePixelPerfect"
      },
      "widgets_values": [
        "Resize and Fill",
        "Width:512\nHeight:768\nPixelPerfect:512"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 19,
      "type": "Get Image Size",
      "pos": [
        -4032,
        1458
      ],
      "size": {
        "0": 304.4474792480469,
        "1": 55.417091369628906
      },
      "flags": {
        "collapsed": false
      },
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 29,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "INT",
          "type": "FLOAT,INT,NUMBER,STRING",
          "links": [
            13,
            19
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "整数"
        },
        {
          "name": "INT",
          "type": "FLOAT,INT,NUMBER,STRING",
          "links": [
            14,
            20
          ],
          "shape": 3,
          "slot_index": 1,
          "label": "整数"
        }
      ],
      "properties": {
        "Node name for S&R": "Get Image Size"
      },
      "category": "Custom Nodes"
    },
    {
      "id": 13,
      "type": "MaskToImage",
      "pos": [
        -4031,
        1553
      ],
      "size": {
        "0": 297.6054992675781,
        "1": 39.321128845214844
      },
      "flags": {
        "collapsed": false
      },
      "order": 40,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 155,
          "label": "遮罩"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            18
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "MaskToImage"
      },
      "category": "Custom Nodes"
    },
    {
      "id": 14,
      "type": "ImageScale",
      "pos": [
        -3716,
        1308
      ],
      "size": {
        "0": 320.1495056152344,
        "1": 122
      },
      "flags": {
        "collapsed": false
      },
      "order": 42,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 18,
          "slot_index": 0,
          "label": "图像"
        },
        {
          "name": "width",
          "type": "INT",
          "link": 19,
          "widget": {
            "name": "width"
          },
          "label": "宽度"
        },
        {
          "name": "height",
          "type": "INT",
          "link": 20,
          "widget": {
            "name": "height"
          },
          "label": "高度"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            23
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageScale"
      },
      "widgets_values": [
        "nearest-exact",
        512,
        512,
        "disabled"
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 16,
      "type": "ImageToMask",
      "pos": [
        -3719,
        1466
      ],
      "size": {
        "0": 321.7728271484375,
        "1": 130.1653289794922
      },
      "flags": {
        "collapsed": false
      },
      "order": 44,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 23,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            152,
            168
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageToMask"
      },
      "widgets_values": [
        "red"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 30,
      "type": "InvertMask",
      "pos": [
        -3391,
        959
      ],
      "size": {
        "0": 264.4637145996094,
        "1": 77.9388427734375
      },
      "flags": {
        "collapsed": false
      },
      "order": 46,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 152,
          "label": "遮罩"
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            154
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "InvertMask"
      },
      "category": "Custom Nodes"
    },
    {
      "id": 5,
      "type": "VAEEncode",
      "pos": [
        -3393,
        1076
      ],
      "size": {
        "0": 272.16546630859375,
        "1": 62.430118560791016
      },
      "flags": {
        "collapsed": false
      },
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 5,
          "label": "图像"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 243,
          "label": "VAE",
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            52
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "Latent"
        }
      ],
      "properties": {
        "Node name for S&R": "VAEEncode"
      },
      "category": "Primitive Nodes"
    },
    {
      "id": 29,
      "type": "SetLatentNoiseMask",
      "pos": [
        -3389,
        1180
      ],
      "size": {
        "0": 269.3058166503906,
        "1": 59.921390533447266
      },
      "flags": {
        "collapsed": false
      },
      "order": 39,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 52,
          "label": "Latent"
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 147,
          "label": "遮罩"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            137
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "Latent"
        }
      ],
      "properties": {
        "Node name for S&R": "SetLatentNoiseMask"
      },
      "category": "Primitive Nodes"
    },
    {
      "id": 11,
      "type": "ImageScale",
      "pos": [
        -3388,
        1279
      ],
      "size": {
        "0": 271.72686767578125,
        "1": 150.21971130371094
      },
      "flags": {
        "collapsed": false
      },
      "order": 47,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 12,
          "slot_index": 0,
          "label": "图像"
        },
        {
          "name": "width",
          "type": "INT",
          "link": 13,
          "widget": {
            "name": "width"
          },
          "label": "宽度"
        },
        {
          "name": "height",
          "type": "INT",
          "link": 14,
          "widget": {
            "name": "height"
          },
          "label": "高度"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            15
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageScale"
      },
      "widgets_values": [
        "nearest-exact",
        512,
        512,
        "disabled"
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 15,
      "type": "VAEEncode",
      "pos": [
        -3388,
        1462
      ],
      "size": {
        "0": 276.28826904296875,
        "1": 128.00926208496094
      },
      "flags": {
        "collapsed": false
      },
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 21,
          "label": "图像"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 245,
          "label": "VAE",
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            27
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "Latent"
        }
      ],
      "properties": {
        "Node name for S&R": "VAEEncode"
      },
      "category": "Primitive Nodes"
    },
    {
      "id": 18,
      "type": "LatentCompositeMasked",
      "pos": [
        -3115,
        948
      ],
      "size": {
        "0": 276.01324462890625,
        "1": 146
      },
      "flags": {
        "collapsed": false
      },
      "order": 49,
      "mode": 0,
      "inputs": [
        {
          "name": "destination",
          "type": "LATENT",
          "link": 26,
          "label": "目标Latent"
        },
        {
          "name": "source",
          "type": "LATENT",
          "link": 27,
          "label": "源Latent"
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 154,
          "label": "遮罩"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            55
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "Latent"
        }
      ],
      "properties": {
        "Node name for S&R": "LatentCompositeMasked"
      },
      "widgets_values": [
        0,
        0,
        false
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 12,
      "type": "VAEEncode",
      "pos": [
        -3114,
        1137
      ],
      "size": {
        "0": 273.3436584472656,
        "1": 77.2522964477539
      },
      "flags": {
        "collapsed": false
      },
      "order": 48,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 15,
          "label": "图像"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 244,
          "label": "VAE",
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            26
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "Latent"
        }
      ],
      "properties": {
        "Node name for S&R": "VAEEncode"
      },
      "category": "Primitive Nodes"
    },
    {
      "id": 31,
      "type": "SetLatentNoiseMask",
      "pos": [
        -3111,
        1255
      ],
      "size": {
        "0": 275.3524169921875,
        "1": 62.766780853271484
      },
      "flags": {
        "collapsed": false
      },
      "order": 50,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 55,
          "label": "Latent"
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 168,
          "label": "遮罩"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            44
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "Latent"
        }
      ],
      "properties": {
        "Node name for S&R": "SetLatentNoiseMask"
      },
      "category": "Primitive Nodes"
    },
    {
      "id": 10,
      "type": "UpscaleModelLoader",
      "pos": [
        -2833,
        846
      ],
      "size": {
        "0": 361.6797180175781,
        "1": 60.54545211791992
      },
      "flags": {
        "collapsed": false
      },
      "order": 2,
      "mode": 0,
      "outputs": [
        {
          "name": "UPSCALE_MODEL",
          "type": "UPSCALE_MODEL",
          "links": [
            10
          ],
          "shape": 3,
          "label": "放大模型"
        }
      ],
      "properties": {
        "Node name for S&R": "UpscaleModelLoader"
      },
      "widgets_values": [
        "ESRGAN_4x"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 80,
      "type": "RepeatLatentBatch",
      "pos": [
        -3112,
        846
      ],
      "size": {
        "0": 270,
        "1": 60
      },
      "flags": {},
      "order": 41,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 137,
          "label": "Latent"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            239
          ],
          "shape": 3,
          "label": "Latent",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "RepeatLatentBatch"
      },
      "widgets_values": [
        1
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 83,
      "type": "Seed Everywhere",
      "pos": [
        -3392,
        846
      ],
      "size": {
        "0": 270,
        "1": 82
      },
      "flags": {},
      "order": 3,
      "mode": 0,
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            148,
            149
          ],
          "shape": 3,
          "label": "整数",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Seed Everywhere",
        "group_restricted": 0,
        "color_restricted": 0
      },
      "widgets_values": [
        767574996446292,
        "randomize"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 51,
      "type": "PreviewImage",
      "pos": [
        -2782.7110556470243,
        3276.8451700061655
      ],
      "size": {
        "0": 424.5797119140625,
        "1": 246
      },
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 315,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "category": "Primitive Nodes"
    },
    {
      "id": 165,
      "type": "GroundingDinoSAMSegment (segment anything)",
      "pos": [
        -2710,
        2100
      ],
      "size": {
        "0": 330,
        "1": 122
      },
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "sam_model",
          "type": "SAM_MODEL",
          "link": 324,
          "label": "SAM模型",
          "slot_index": 0
        },
        {
          "name": "grounding_dino_model",
          "type": "GROUNDING_DINO_MODEL",
          "link": 325,
          "label": "G-Dino模型",
          "slot_index": 1
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 335,
          "label": "图像",
          "slot_index": 2
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            327
          ],
          "shape": 3,
          "label": " 图像"
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            334
          ],
          "shape": 3,
          "label": "遮罩",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "GroundingDinoSAMSegment (segment anything)"
      },
      "widgets_values": [
        "face",
        0.3
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 82,
      "type": "LayerMask: MaskGrow",
      "pos": [
        -1586,
        2132
      ],
      "size": {
        "0": 280,
        "1": 110
      },
      "flags": {},
      "order": 38,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 338,
          "label": "遮罩",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "mask",
          "type": "MASK",
          "links": [
            147,
            155
          ],
          "shape": 3,
          "label": "遮罩",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "LayerMask: MaskGrow"
      },
      "widgets_values": [
        true,
        4,
        6
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 158,
      "type": "LayerMask: SegmentAnythingUltra V2",
      "pos": [
        -2778.7110556470243,
        2886.8451700061655
      ],
      "size": {
        "0": 420.291015625,
        "1": 344.82861328125
      },
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 337,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            315
          ],
          "shape": 3,
          "label": "图像"
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": [
            332
          ],
          "shape": 3,
          "label": "遮罩",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "LayerMask: SegmentAnythingUltra V2"
      },
      "widgets_values": [
        "sam_vit_l_0b3195.pth",
        "GroundingDINO_SwinT_OGC (694MB)",
        0.4,
        "VITMatte",
        6,
        6,
        0.15,
        0.99,
        true,
        "face",
        "cuda",
        2
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 172,
      "type": "Reroute",
      "pos": [
        -2829,
        2145
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 333
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            335
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      },
      "category": "Official"
    },
    {
      "id": 8,
      "type": "ConstrainImage|pysssss",
      "pos": [
        -4038,
        1636
      ],
      "size": {
        "0": 319.5559387207031,
        "1": 203.35430908203125
      },
      "flags": {
        "collapsed": false
      },
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 136,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            5,
            68,
            130,
            317,
            333,
            336
          ],
          "shape": 6,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "ConstrainImage|pysssss"
      },
      "widgets_values": [
        777,
        768,
        0,
        0,
        "no"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 170,
      "type": "Reroute",
      "pos": [
        -2886.7110556470243,
        2902.8451700061655
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 336
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            337
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      },
      "category": "Official"
    },
    {
      "id": 171,
      "type": "Reroute",
      "pos": [
        -1728,
        2180
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 332
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "MASK",
          "links": null,
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      },
      "category": "Official"
    },
    {
      "id": 173,
      "type": "Reroute",
      "pos": [
        -1735,
        2111
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 334
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "MASK",
          "links": [
            338
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      },
      "category": "Official"
    },
    {
      "id": 167,
      "type": "SAMModelLoader (segment anything)",
      "pos": [
        -2710,
        2010
      ],
      "size": {
        "0": 320.1496276855469,
        "1": 58
      },
      "flags": {},
      "order": 4,
      "mode": 0,
      "outputs": [
        {
          "name": "SAM_MODEL",
          "type": "SAM_MODEL",
          "links": [
            324
          ],
          "shape": 3,
          "label": "SAM模型",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "SAMModelLoader (segment anything)"
      },
      "widgets_values": [
        "sam_vit_h_4b8939.pth"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 166,
      "type": "GroundingDinoModelLoader (segment anything)",
      "pos": [
        -2700,
        1918
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 5,
      "mode": 0,
      "outputs": [
        {
          "name": "GROUNDING_DINO_MODEL",
          "type": "GROUNDING_DINO_MODEL",
          "links": [
            325
          ],
          "shape": 3,
          "label": "G-Dino模型"
        }
      ],
      "properties": {
        "Node name for S&R": "GroundingDinoModelLoader (segment anything)"
      },
      "widgets_values": [
        "GroundingDINO_SwinT_OGC (694MB)"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 25,
      "type": "KSampler (Efficient)",
      "pos": [
        -2462,
        860
      ],
      "size": {
        "0": 361.6312561035156,
        "1": 732.641845703125
      },
      "flags": {
        "collapsed": false
      },
      "order": 51,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 41,
          "label": "模型"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 42,
          "label": "正面条件"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 43,
          "label": "负面条件"
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 44,
          "label": "Latent"
        },
        {
          "name": "optional_vae",
          "type": "VAE",
          "link": 45,
          "label": "VAE(可选)"
        },
        {
          "name": "script",
          "type": "SCRIPT",
          "link": null,
          "label": "脚本"
        },
        {
          "name": "seed",
          "type": "INT",
          "link": 148,
          "widget": {
            "name": "seed"
          },
          "label": "随机种"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            351
          ],
          "shape": 3,
          "label": "模型"
        },
        {
          "name": "CONDITIONING+",
          "type": "CONDITIONING",
          "links": [
            352
          ],
          "shape": 3,
          "label": "正面条件"
        },
        {
          "name": "CONDITIONING-",
          "type": "CONDITIONING",
          "links": [
            353
          ],
          "shape": 3,
          "label": "负面条件"
        },
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            345
          ],
          "shape": 3,
          "label": "Latent",
          "slot_index": 3
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            354
          ],
          "shape": 3,
          "label": "VAE"
        },
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            297
          ],
          "shape": 3,
          "slot_index": 5,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler (Efficient)"
      },
      "widgets_values": [
        1656855237205,
        null,
        12,
        6,
        "dpmpp_2m",
        "karras",
        0.32,
        "auto",
        "true"
      ],
      "_widget_cache_map": {},
      "color": "#332233",
      "bgcolor": "#553355",
      "shape": 1,
      "category": "Custom Nodes"
    },
    {
      "id": 164,
      "type": "PreviewImage",
      "pos": [
        -2697,
        2254
      ],
      "size": {
        "0": 329.5274353027344,
        "1": 282.1686096191406
      },
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 327,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "category": "Primitive Nodes"
    },
    {
      "id": 168,
      "type": "Note",
      "pos": [
        -2353,
        2211
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 6,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "这边写脸提示词"
      ],
      "_widget_cache_map": {},
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 174,
      "type": "Note",
      "pos": [
        -2338.7110556470243,
        3165.8451700061655
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 7,
      "mode": 2,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "这边写脸提示词"
      ],
      "_widget_cache_map": {},
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 20,
      "type": "Efficient Loader",
      "pos": [
        -4442,
        821
      ],
      "size": {
        "0": 398.77984619140625,
        "1": 874.48876953125
      },
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "lora_stack",
          "type": "LORA_STACK",
          "link": null,
          "slot_index": 0,
          "label": "LoRA堆"
        },
        {
          "name": "cnet_stack",
          "type": "CONTROL_NET_STACK",
          "link": null,
          "label": "ControlNet堆"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            255
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "模型"
        },
        {
          "name": "CONDITIONING+",
          "type": "CONDITIONING",
          "links": [
            247
          ],
          "shape": 3,
          "slot_index": 1,
          "label": "正面条件"
        },
        {
          "name": "CONDITIONING-",
          "type": "CONDITIONING",
          "links": [
            248
          ],
          "shape": 3,
          "slot_index": 2,
          "label": "负面条件"
        },
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": null,
          "shape": 3,
          "label": "Latent"
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            243,
            244,
            245,
            246
          ],
          "shape": 3,
          "slot_index": 4,
          "label": "VAE"
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [],
          "shape": 3,
          "label": "CLIP",
          "slot_index": 5
        },
        {
          "name": "DEPENDENCIES",
          "type": "DEPENDENCIES",
          "links": null,
          "shape": 3,
          "label": "依赖"
        }
      ],
      "properties": {
        "Node name for S&R": "Efficient Loader"
      },
      "widgets_values": [
        "majicMIX realistic 麦橘写实_v7",
        "Baked VAE",
        -1,
        "夏日黄花写真_v1.0",
        0.8,
        0.8,
        "Picture enhancement,(fashion magazine blockbuster:1.2),(attractive woman:1.3),(beautiful and delicate eyes:1.2),(fashion clothing design:1.2),(tulle texture:1.1),turquoise flowers,surrounded by flowers,crystal clear dew,fresh and elegant,(flowers blooming wildly:1.2),delicate buds,turquoise atmosphere, (masterpiece:1,2), best quality, masterpiece, highres, original, extremely detailed wallpaper, perfect lighting,(extremely detailed CG:1.2)flowers,turquoise flowers,",
        "(nsfw:1.5),ng_deepnegative_v1_75t, (badhandv4:1.2), (worst quality:2), (low quality:2), (normal quality:2), lowres, bad anatomy, bad hands, normal quality, ((monochrome)), ((grayscale)) watermar",
        "length+mean",
        "A1111",
        512,
        512,
        1
      ],
      "_widget_cache_map": {
        "majicMIX realistic 麦橘写实_v7": {
          "name": "majicMIX realistic 麦橘写实_v7",
          "value": 125488
        },
        "梦中花境_v1.0": {
          "name": "梦中花境_v1.0",
          "value": 99911
        },
        "场景-飘落的花_v1.0": {
          "name": "场景-飘落的花_v1.0",
          "value": 836022
        },
        "繁花RED （1.5+XL）_mijired": {
          "name": "繁花RED （1.5+XL）_mijired",
          "value": 1409859
        },
        "夏日黄花写真_v1.0": {
          "name": "夏日黄花写真_v1.0",
          "value": 1348217
        },
        "LEOSAM's FilmGirl  胶片风 LoRA--全新VELVIA版本_3.0": {
          "name": "LEOSAM's FilmGirl  胶片风 LoRA--全新VELVIA版本_3.0",
          "value": 24130
        }
      },
      "color": "#332222",
      "bgcolor": "#553333",
      "shape": 1,
      "category": "Custom Nodes"
    },
    {
      "id": 41,
      "type": "ConstrainImage|pysssss",
      "pos": [
        -4439,
        1735
      ],
      "size": {
        "0": 388.119140625,
        "1": 212.15383911132812
      },
      "flags": {
        "collapsed": false
      },
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 67,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            21,
            29
          ],
          "shape": 6,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "ConstrainImage|pysssss"
      },
      "widgets_values": [
        2048,
        2048,
        0,
        0,
        "no"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 147,
      "type": "SaveImage",
      "pos": [
        -2097,
        880
      ],
      "size": {
        "0": 934.801513671875,
        "1": 827.0425415039062
      },
      "flags": {},
      "order": 53,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 297,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "SaveImage"
      },
      "widgets_values": [
        "ComfyUI"
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 24,
      "type": "KSampler (Efficient)",
      "pos": [
        -2818,
        950
      ],
      "size": {
        "0": 342.26129150390625,
        "1": 647.0781860351562
      },
      "flags": {},
      "order": 43,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 255,
          "label": "模型"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 223,
          "label": "正面条件"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 224,
          "label": "负面条件"
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 239,
          "label": "Latent",
          "slot_index": 3
        },
        {
          "name": "optional_vae",
          "type": "VAE",
          "link": 246,
          "label": "VAE(可选)",
          "slot_index": 4
        },
        {
          "name": "script",
          "type": "SCRIPT",
          "link": null,
          "label": "脚本"
        },
        {
          "name": "seed",
          "type": "INT",
          "link": 149,
          "widget": {
            "name": "seed"
          },
          "label": "随机种"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            41
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "模型"
        },
        {
          "name": "CONDITIONING+",
          "type": "CONDITIONING",
          "links": [
            42
          ],
          "shape": 3,
          "slot_index": 1,
          "label": "正面条件"
        },
        {
          "name": "CONDITIONING-",
          "type": "CONDITIONING",
          "links": [
            43
          ],
          "shape": 3,
          "slot_index": 2,
          "label": "负面条件"
        },
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": null,
          "shape": 3,
          "label": "Latent"
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            45
          ],
          "shape": 3,
          "slot_index": 4,
          "label": "VAE"
        },
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            11
          ],
          "shape": 3,
          "slot_index": 5,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler (Efficient)"
      },
      "widgets_values": [
        533676900650057,
        null,
        35,
        7.5,
        "dpmpp_2m",
        "karras",
        1,
        "none",
        "true"
      ],
      "_widget_cache_map": {},
      "color": "#222233",
      "bgcolor": "#333355",
      "shape": 1,
      "category": "Custom Nodes"
    },
    {
      "id": 9,
      "type": "ImageUpscaleWithModel",
      "pos": [
        -3101,
        1354
      ],
      "size": {
        "0": 274.9716491699219,
        "1": 238.9305419921875
      },
      "flags": {
        "collapsed": false
      },
      "order": 45,
      "mode": 0,
      "inputs": [
        {
          "name": "upscale_model",
          "type": "UPSCALE_MODEL",
          "link": 10,
          "slot_index": 0,
          "label": "放大模型"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 11,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            12
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageUpscaleWithModel"
      },
      "category": "Custom Nodes"
    },
    {
      "id": 186,
      "type": "PreviewImage",
      "pos": [
        -749,
        899
      ],
      "size": {
        "0": 736.4895629882812,
        "1": 727.6183471679688
      },
      "flags": {},
      "order": 54,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 350,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "category": "Primitive Nodes"
    },
    {
      "id": 1,
      "type": "LoadImage",
      "pos": [
        -5379.698094704147,
        894.4136076871537
      ],
      "size": {
        "0": 490,
        "1": 760
      },
      "flags": {},
      "order": 10,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            67,
            136
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "slot_index": 1,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "bb294f6f-fc30-41ae-952f-7f8f99b36136.png",
        "image"
      ],
      "_widget_cache_map": {
        "output (20).png": {
          "value": "img/46987de339ac47e0965172f7ccd1b939/854ce9f1a5b466662f2090add06fe5ba9bb3b9d0bc281230d3d3933552b5506a.png",
          "name": "output (20).png",
          "url": "https://liblibai-tmp-image.vibrou.com/img/46987de339ac47e0965172f7ccd1b939/854ce9f1a5b466662f2090add06fe5ba9bb3b9d0bc281230d3d3933552b5506a.png"
        },
        "ComfyUI_temp_nkavz_00229_.png": {
          "value": "img/46987de339ac47e0965172f7ccd1b939/3d5705594a2780d62c15ce796a0ef63a962c46486e493fc0ef8bd2eb4e341fab.png",
          "name": "ComfyUI_temp_nkavz_00229_.png",
          "url": "https://liblibai-tmp-image.vibrou.com/img/46987de339ac47e0965172f7ccd1b939/3d5705594a2780d62c15ce796a0ef63a962c46486e493fc0ef8bd2eb4e341fab.png"
        },
        "output6565.png": {
          "value": "img/46987de339ac47e0965172f7ccd1b939/5e5d7a167498e0909784f8dcc27faff369968e950762e72dd7c5330379651099.png",
          "name": "output6565.png",
          "url": "https://liblibai-tmp-image.vibrou.com/img/46987de339ac47e0965172f7ccd1b939/5e5d7a167498e0909784f8dcc27faff369968e950762e72dd7c5330379651099.png"
        },
        "08130549f700965fe9e33ef4e82f19333e29eb907904b4b00e0f24b716f2d83c.png": {
          "value": "img/46987de339ac47e0965172f7ccd1b939/08130549f700965fe9e33ef4e82f19333e29eb907904b4b00e0f24b716f2d83c.png",
          "name": "08130549f700965fe9e33ef4e82f19333e29eb907904b4b00e0f24b716f2d83c.png",
          "url": "https://liblibai-tmp-image.vibrou.com/img/46987de339ac47e0965172f7ccd1b939/08130549f700965fe9e33ef4e82f19333e29eb907904b4b00e0f24b716f2d83c.png"
        },
        "6bc77bf01429f92152590768af7fb7f81bb46685d82b5b9589ba375ea1db2913.png": {
          "value": "img/46987de339ac47e0965172f7ccd1b939/6bc77bf01429f92152590768af7fb7f81bb46685d82b5b9589ba375ea1db2913.png",
          "name": "6bc77bf01429f92152590768af7fb7f81bb46685d82b5b9589ba375ea1db2913.png",
          "url": "https://liblibai-tmp-image.vibrou.com/img/46987de339ac47e0965172f7ccd1b939/6bc77bf01429f92152590768af7fb7f81bb46685d82b5b9589ba375ea1db2913.png"
        },
        "359afeccd88a1d91cf84506038b8a9c6168d6695c96b4e5e31119ecf3a376cb5.png": {
          "value": "img/46987de339ac47e0965172f7ccd1b939/359afeccd88a1d91cf84506038b8a9c6168d6695c96b4e5e31119ecf3a376cb5.png",
          "name": "359afeccd88a1d91cf84506038b8a9c6168d6695c96b4e5e31119ecf3a376cb5.png",
          "url": "https://liblibai-tmp-image.vibrou.com/img/46987de339ac47e0965172f7ccd1b939/359afeccd88a1d91cf84506038b8a9c6168d6695c96b4e5e31119ecf3a376cb5.png"
        },
        "65f7d84e6c2f9283ab66d75a2f09f9a66c257c07a893c14cbe340e1bd5138d28.png": {
          "value": "img/46987de339ac47e0965172f7ccd1b939/65f7d84e6c2f9283ab66d75a2f09f9a66c257c07a893c14cbe340e1bd5138d28.png",
          "name": "65f7d84e6c2f9283ab66d75a2f09f9a66c257c07a893c14cbe340e1bd5138d28.png",
          "url": "https://liblibai-tmp-image.liblib.cloud/img/46987de339ac47e0965172f7ccd1b939/65f7d84e6c2f9283ab66d75a2f09f9a66c257c07a893c14cbe340e1bd5138d28.png"
        },
        "ComfyUI_temp_ddgqc_00003_.png": {
          "value": "img/46987de339ac47e0965172f7ccd1b939/eba6fcd1fe1c04b34584c8a99fd8520fa4066d0ef44316e5de13f1ab2ad919df.png",
          "name": "ComfyUI_temp_ddgqc_00003_.png",
          "url": "https://liblibai-tmp-image.liblib.cloud/img/46987de339ac47e0965172f7ccd1b939/eba6fcd1fe1c04b34584c8a99fd8520fa4066d0ef44316e5de13f1ab2ad919df.png"
        },
        "output (31).png": {
          "value": "img/46987de339ac47e0965172f7ccd1b939/134eff20dbd87179096dcc10e26e644e3aee3eb8ea9d8e78ed4dcdcb4036e3ce.png",
          "name": "output (31).png",
          "url": "https://liblibai-tmp-image.liblib.cloud/img/46987de339ac47e0965172f7ccd1b939/134eff20dbd87179096dcc10e26e644e3aee3eb8ea9d8e78ed4dcdcb4036e3ce.png"
        },
        "bb294f6f-fc30-41ae-952f-7f8f99b36136.png": {
          "value": "img/46987de339ac47e0965172f7ccd1b939/19d63afb4289e2b8f0317a95eca049a661230321526ee2e2371a42658f6240e8.png",
          "name": "bb294f6f-fc30-41ae-952f-7f8f99b36136.png",
          "url": "https://liblibai-tmp-image.liblib.cloud/img/46987de339ac47e0965172f7ccd1b939/19d63afb4289e2b8f0317a95eca049a661230321526ee2e2371a42658f6240e8.png"
        }
      },
      "category": "Primitive Nodes"
    },
    {
      "id": 183,
      "type": "KSampler (Efficient)",
      "pos": [
        -1146,
        896
      ],
      "size": {
        "0": 361.6312561035156,
        "1": 732.641845703125
      },
      "flags": {
        "collapsed": false
      },
      "order": 52,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 351,
          "label": "模型",
          "slot_index": 0
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 352,
          "label": "正面条件",
          "slot_index": 1
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 353,
          "label": "负面条件",
          "slot_index": 2
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 345,
          "label": "Latent"
        },
        {
          "name": "optional_vae",
          "type": "VAE",
          "link": 354,
          "label": "VAE(可选)",
          "slot_index": 4
        },
        {
          "name": "script",
          "type": "SCRIPT",
          "link": null,
          "label": "脚本"
        },
        {
          "name": "seed",
          "type": "INT",
          "link": null,
          "widget": {
            "name": "seed"
          },
          "label": "随机种"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [],
          "shape": 3,
          "label": "模型"
        },
        {
          "name": "CONDITIONING+",
          "type": "CONDITIONING",
          "links": [],
          "shape": 3,
          "label": "正面条件"
        },
        {
          "name": "CONDITIONING-",
          "type": "CONDITIONING",
          "links": [],
          "shape": 3,
          "label": "负面条件"
        },
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [],
          "shape": 3,
          "label": "Latent",
          "slot_index": 3
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [],
          "shape": 3,
          "label": "VAE"
        },
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            350,
            369
          ],
          "shape": 3,
          "slot_index": 5,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler (Efficient)"
      },
      "widgets_values": [
        1656855237205,
        null,
        35,
        7,
        "dpmpp_2m",
        "karras",
        0.2,
        "auto",
        "true"
      ],
      "_widget_cache_map": {},
      "color": "#332233",
      "bgcolor": "#553355",
      "shape": 1,
      "category": "Custom Nodes"
    },
    {
      "id": 175,
      "type": "Note",
      "pos": [
        -1271,
        1912
      ],
      "size": {
        "0": 537.6278686523438,
        "1": 83.91441345214844
      },
      "flags": {},
      "order": 11,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "高清无损放大地址：https://www.liblib.art/modelinfo/a783762169f64cbfb1f38280e89b4472?from=personal_page\n\nflux放大地址：https://www.liblib.art/userpage/46987de339ac47e0965172f7ccd1b939/publish/workflow"
      ],
      "_widget_cache_map": {},
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 190,
      "type": "DualCLIPLoader",
      "pos": [
        89,
        913
      ],
      "size": {
        "0": 489.33416748046875,
        "1": 121.01634979248047
      },
      "flags": {},
      "order": 12,
      "mode": 0,
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            355
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "CLIP"
        }
      ],
      "properties": {
        "Node name for S&R": "DualCLIPLoader"
      },
      "widgets_values": [
        "t5xxl_fp8_e4m3fn",
        "clip_l",
        "flux"
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 189,
      "type": "VAELoader",
      "pos": [
        99,
        1078
      ],
      "size": {
        "0": 475.4566650390625,
        "1": 71.6128921508789
      },
      "flags": {},
      "order": 13,
      "mode": 0,
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            364,
            367
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAELoader"
      },
      "widgets_values": [
        "ae.sft"
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 191,
      "type": "UNETLoader",
      "pos": [
        97,
        1186
      ],
      "size": [
        487.43629965984996,
        133.38335705578334
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            360,
            361
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "模型"
        }
      ],
      "properties": {
        "Node name for S&R": "UNETLoader"
      },
      "widgets_values": [
        "Flux1-dev-fp8 11G版_flux1-dev-fp8",
        "fp8_e4m3fn"
      ],
      "_widget_cache_map": {
        "黑暗森林工作室-FLUX1-DEV.sft_黑暗flux1-schnell": {
          "name": "黑暗森林工作室-FLUX1-DEV.sft_黑暗flux1-schnell",
          "value": 2296389
        },
        "Flux1-dev-fp8 11G版_flux1-dev-fp8": {
          "name": "Flux1-dev-fp8 11G版_flux1-dev-fp8",
          "value": 2298961
        }
      },
      "category": "Primitive Nodes"
    },
    {
      "id": 196,
      "type": "RandomNoise",
      "pos": [
        92,
        1359
      ],
      "size": [
        520.8193032494646,
        82
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "outputs": [
        {
          "name": "NOISE",
          "type": "NOISE",
          "links": [
            356
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "噪波生成"
        }
      ],
      "properties": {
        "Node name for S&R": "RandomNoise"
      },
      "widgets_values": [
        45645645,
        "randomize"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 193,
      "type": "KSamplerSelect",
      "pos": [
        87,
        1486
      ],
      "size": [
        514.1321841243293,
        60.44738577269982
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "outputs": [
        {
          "name": "SAMPLER",
          "type": "SAMPLER",
          "links": [
            358
          ],
          "shape": 3,
          "label": "采样器"
        }
      ],
      "properties": {
        "Node name for S&R": "KSamplerSelect"
      },
      "widgets_values": [
        "euler"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 188,
      "type": "CLIPTextEncode",
      "pos": [
        594,
        913
      ],
      "size": [
        473.83321655313966,
        245.31576476022428
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 355,
          "label": "CLIP"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            362
          ],
          "slot_index": 0,
          "label": "条件"
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        ""
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 195,
      "type": "BasicGuider",
      "pos": [
        595,
        1199
      ],
      "size": [
        480.9559084664056,
        46
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 361,
          "slot_index": 0,
          "label": "模型"
        },
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 362,
          "slot_index": 1,
          "label": "条件"
        }
      ],
      "outputs": [
        {
          "name": "GUIDER",
          "type": "GUIDER",
          "links": [
            357
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "引导"
        }
      ],
      "properties": {
        "Node name for S&R": "BasicGuider"
      },
      "category": "Custom Nodes"
    },
    {
      "id": 199,
      "type": "VAEEncode",
      "pos": [
        607,
        1285
      ],
      "size": [
        464.39450297102167,
        46
      ],
      "flags": {},
      "order": 55,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 369,
          "label": "图像",
          "slot_index": 0
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 367,
          "label": "VAE",
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            368
          ],
          "shape": 3,
          "label": "Latent",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEEncode"
      },
      "category": "Primitive Nodes"
    },
    {
      "id": 194,
      "type": "BasicScheduler",
      "pos": [
        621,
        1373
      ],
      "size": [
        458.3769625879436,
        175.88488683429568
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 360,
          "slot_index": 0,
          "label": "模型"
        }
      ],
      "outputs": [
        {
          "name": "SIGMAS",
          "type": "SIGMAS",
          "links": [
            359
          ],
          "shape": 3,
          "label": "Sigmas"
        }
      ],
      "properties": {
        "Node name for S&R": "BasicScheduler"
      },
      "widgets_values": [
        "simple",
        10,
        0.2
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 192,
      "type": "SamplerCustomAdvanced",
      "pos": [
        1081,
        937
      ],
      "size": {
        "0": 349.757080078125,
        "1": 138.51333618164062
      },
      "flags": {},
      "order": 56,
      "mode": 0,
      "inputs": [
        {
          "name": "noise",
          "type": "NOISE",
          "link": 356,
          "slot_index": 0,
          "label": "噪波生成"
        },
        {
          "name": "guider",
          "type": "GUIDER",
          "link": 357,
          "slot_index": 1,
          "label": "引导"
        },
        {
          "name": "sampler",
          "type": "SAMPLER",
          "link": 358,
          "slot_index": 2,
          "label": "采样器"
        },
        {
          "name": "sigmas",
          "type": "SIGMAS",
          "link": 359,
          "slot_index": 3,
          "label": "Sigmas"
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 368,
          "slot_index": 4,
          "label": "Latent"
        }
      ],
      "outputs": [
        {
          "name": "output",
          "type": "LATENT",
          "links": [
            363
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "输出"
        },
        {
          "name": "denoised_output",
          "type": "LATENT",
          "links": null,
          "shape": 3,
          "label": "降噪输出"
        }
      ],
      "properties": {
        "Node name for S&R": "SamplerCustomAdvanced"
      },
      "category": "Custom Nodes"
    },
    {
      "id": 197,
      "type": "VAEDecode",
      "pos": [
        1080,
        1116
      ],
      "size": [
        371.62072120111634,
        420.89637284105265
      ],
      "flags": {},
      "order": 57,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 363,
          "label": "Latent"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 364,
          "label": "VAE",
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            365
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "category": "Primitive Nodes"
    },
    {
      "id": 198,
      "type": "PreviewImage",
      "pos": [
        1564,
        933
      ],
      "size": [
        889.9091198381029,
        964.4412657976579
      ],
      "flags": {},
      "order": 58,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 365,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "category": "Primitive Nodes"
    },
    {
      "id": 187,
      "type": "Note",
      "pos": [
        -1050,
        1675
      ],
      "size": {
        "0": 535.2467651367188,
        "1": 117.3951416015625
      },
      "flags": {},
      "order": 9,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "工作流原理是把脸部抠出来 ，然后贴回去重绘的。面部的颜色可能反差很大，你可以选择一个与面部色调相近的LORA来出图\n\n比如 你上传的人像是那种昏暗的场景 那么提示词和LORA就以这种形式来出图 ，\n\n还有另外一种玩法 ，众所周知FLUX模型 出图的美感和构图都比较好，可以把这个工作流前半部分改为FLUX进行面部贴合重绘，最后再进行出图。有时间我会把这个工作流再升级成2.0版本的，用FLUX来进行换脸。\n\n "
      ],
      "_widget_cache_map": {},
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    }
  ],
  "links": [
    [
      5,
      8,
      0,
      5,
      0,
      "IMAGE"
    ],
    [
      10,
      10,
      0,
      9,
      0,
      "UPSCALE_MODEL"
    ],
    [
      11,
      24,
      5,
      9,
      1,
      "IMAGE"
    ],
    [
      12,
      9,
      0,
      11,
      0,
      "IMAGE"
    ],
    [
      13,
      19,
      0,
      11,
      1,
      "INT"
    ],
    [
      14,
      19,
      1,
      11,
      2,
      "INT"
    ],
    [
      15,
      11,
      0,
      12,
      0,
      "IMAGE"
    ],
    [
      18,
      13,
      0,
      14,
      0,
      "IMAGE"
    ],
    [
      19,
      19,
      0,
      14,
      1,
      "INT"
    ],
    [
      20,
      19,
      1,
      14,
      2,
      "INT"
    ],
    [
      21,
      41,
      0,
      15,
      0,
      "IMAGE"
    ],
    [
      23,
      14,
      0,
      16,
      0,
      "IMAGE"
    ],
    [
      26,
      12,
      0,
      18,
      0,
      "LATENT"
    ],
    [
      27,
      15,
      0,
      18,
      1,
      "LATENT"
    ],
    [
      29,
      41,
      0,
      19,
      0,
      "IMAGE"
    ],
    [
      41,
      24,
      0,
      25,
      0,
      "MODEL"
    ],
    [
      42,
      24,
      1,
      25,
      1,
      "CONDITIONING"
    ],
    [
      43,
      24,
      2,
      25,
      2,
      "CONDITIONING"
    ],
    [
      44,
      31,
      0,
      25,
      3,
      "LATENT"
    ],
    [
      45,
      24,
      4,
      25,
      4,
      "VAE"
    ],
    [
      52,
      5,
      0,
      29,
      0,
      "LATENT"
    ],
    [
      55,
      18,
      0,
      31,
      0,
      "LATENT"
    ],
    [
      67,
      1,
      0,
      41,
      0,
      "IMAGE"
    ],
    [
      68,
      8,
      0,
      42,
      0,
      "IMAGE"
    ],
    [
      130,
      8,
      0,
      78,
      0,
      "IMAGE"
    ],
    [
      132,
      78,
      0,
      42,
      1,
      "INT"
    ],
    [
      136,
      1,
      0,
      8,
      0,
      "IMAGE"
    ],
    [
      137,
      29,
      0,
      80,
      0,
      "LATENT"
    ],
    [
      147,
      82,
      0,
      29,
      1,
      "MASK"
    ],
    [
      148,
      83,
      0,
      25,
      6,
      "INT"
    ],
    [
      149,
      83,
      0,
      24,
      6,
      "INT"
    ],
    [
      152,
      16,
      0,
      30,
      0,
      "MASK"
    ],
    [
      154,
      30,
      0,
      18,
      2,
      "MASK"
    ],
    [
      155,
      82,
      0,
      13,
      0,
      "MASK"
    ],
    [
      168,
      16,
      0,
      31,
      1,
      "MASK"
    ],
    [
      213,
      103,
      0,
      107,
      2,
      "CONTROL_NET"
    ],
    [
      218,
      107,
      0,
      108,
      0,
      "CONDITIONING"
    ],
    [
      219,
      107,
      1,
      108,
      1,
      "CONDITIONING"
    ],
    [
      220,
      105,
      0,
      108,
      2,
      "CONTROL_NET"
    ],
    [
      221,
      42,
      0,
      108,
      3,
      "IMAGE"
    ],
    [
      223,
      108,
      0,
      24,
      1,
      "CONDITIONING"
    ],
    [
      224,
      108,
      1,
      24,
      2,
      "CONDITIONING"
    ],
    [
      239,
      80,
      0,
      24,
      3,
      "LATENT"
    ],
    [
      243,
      20,
      4,
      5,
      1,
      "VAE"
    ],
    [
      244,
      20,
      4,
      12,
      1,
      "VAE"
    ],
    [
      245,
      20,
      4,
      15,
      1,
      "VAE"
    ],
    [
      246,
      20,
      4,
      24,
      4,
      "VAE"
    ],
    [
      247,
      20,
      1,
      107,
      0,
      "CONDITIONING"
    ],
    [
      248,
      20,
      2,
      107,
      1,
      "CONDITIONING"
    ],
    [
      255,
      20,
      0,
      24,
      0,
      "MODEL"
    ],
    [
      297,
      25,
      5,
      147,
      0,
      "IMAGE"
    ],
    [
      315,
      158,
      0,
      51,
      0,
      "IMAGE"
    ],
    [
      317,
      8,
      0,
      159,
      0,
      "IMAGE"
    ],
    [
      318,
      78,
      0,
      159,
      1,
      "INT"
    ],
    [
      319,
      159,
      0,
      107,
      3,
      "IMAGE"
    ],
    [
      324,
      167,
      0,
      165,
      0,
      "SAM_MODEL"
    ],
    [
      325,
      166,
      0,
      165,
      1,
      "GROUNDING_DINO_MODEL"
    ],
    [
      327,
      165,
      0,
      164,
      0,
      "IMAGE"
    ],
    [
      332,
      158,
      1,
      171,
      0,
      "*"
    ],
    [
      333,
      8,
      0,
      172,
      0,
      "*"
    ],
    [
      334,
      165,
      1,
      173,
      0,
      "*"
    ],
    [
      335,
      172,
      0,
      165,
      2,
      "IMAGE"
    ],
    [
      336,
      8,
      0,
      170,
      0,
      "*"
    ],
    [
      337,
      170,
      0,
      158,
      0,
      "IMAGE"
    ],
    [
      338,
      173,
      0,
      82,
      0,
      "MASK"
    ],
    [
      345,
      25,
      3,
      183,
      3,
      "LATENT"
    ],
    [
      350,
      183,
      5,
      186,
      0,
      "IMAGE"
    ],
    [
      351,
      25,
      0,
      183,
      0,
      "MODEL"
    ],
    [
      352,
      25,
      1,
      183,
      1,
      "CONDITIONING"
    ],
    [
      353,
      25,
      2,
      183,
      2,
      "CONDITIONING"
    ],
    [
      354,
      25,
      4,
      183,
      4,
      "VAE"
    ],
    [
      355,
      190,
      0,
      188,
      0,
      "CLIP"
    ],
    [
      356,
      196,
      0,
      192,
      0,
      "NOISE"
    ],
    [
      357,
      195,
      0,
      192,
      1,
      "GUIDER"
    ],
    [
      358,
      193,
      0,
      192,
      2,
      "SAMPLER"
    ],
    [
      359,
      194,
      0,
      192,
      3,
      "SIGMAS"
    ],
    [
      360,
      191,
      0,
      194,
      0,
      "MODEL"
    ],
    [
      361,
      191,
      0,
      195,
      0,
      "MODEL"
    ],
    [
      362,
      188,
      0,
      195,
      1,
      "CONDITIONING"
    ],
    [
      363,
      192,
      0,
      197,
      0,
      "LATENT"
    ],
    [
      364,
      189,
      0,
      197,
      1,
      "VAE"
    ],
    [
      365,
      197,
      0,
      198,
      0,
      "IMAGE"
    ],
    [
      367,
      189,
      0,
      199,
      1,
      "VAE"
    ],
    [
      368,
      199,
      0,
      192,
      4,
      "LATENT"
    ],
    [
      369,
      183,
      5,
      199,
      0,
      "IMAGE"
    ]
  ],
  "groups": [
    {
      "title": "👇",
      "bounding": [
        -2701,
        665,
        140,
        80
      ],
      "color": "#212121",
      "font_size": 100,
      "locked": false
    },
    {
      "title": "第一次采样",
      "bounding": [
        -2818,
        531,
        348,
        271
      ],
      "color": "#88A",
      "font_size": 50,
      "locked": false
    },
    {
      "title": "第二次采样",
      "bounding": [
        -2463,
        530,
        369,
        290
      ],
      "color": "#3f789e",
      "font_size": 80,
      "locked": false
    },
    {
      "title": "👇",
      "bounding": [
        -2367,
        660,
        140,
        80
      ],
      "color": "#3f789e",
      "font_size": 80,
      "locked": false
    },
    {
      "title": "生成张数大小",
      "bounding": [
        -3110,
        781,
        273,
        110
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "随机种",
      "bounding": [
        -3393,
        774,
        269,
        80
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "大模型👉",
      "bounding": [
        -4668,
        954,
        224,
        82
      ],
      "color": "#3f789e",
      "font_size": 50,
      "locked": false
    },
    {
      "title": "LORA模型👉",
      "bounding": [
        -4745,
        1039,
        302,
        80
      ],
      "color": "#3f789e",
      "font_size": 50,
      "locked": false
    },
    {
      "title": "正面提示词👉",
      "bounding": [
        -4765,
        1162,
        321,
        80
      ],
      "color": "#3f789e",
      "font_size": 50,
      "locked": false
    },
    {
      "title": "负面提示词👉",
      "bounding": [
        -4768,
        1348,
        318,
        80
      ],
      "color": "#3f789e",
      "font_size": 50,
      "locked": false
    },
    {
      "title": "原图导入",
      "bounding": [
        -5405,
        698,
        574,
        1030
      ],
      "color": "#3f789e",
      "font_size": 100,
      "locked": false
    },
    {
      "title": "第一种抠脸组件",
      "bounding": [
        -2836,
        1757,
        598,
        795
      ],
      "color": "#3f789e",
      "font_size": 70,
      "locked": false
    },
    {
      "title": "第二种抠脸组件",
      "bounding": [
        -2846,
        2710,
        606,
        823
      ],
      "color": "#3f789e",
      "font_size": 70,
      "locked": false
    },
    {
      "title": "二选一，前后连接线连接上就行",
      "bounding": [
        -2980,
        2586,
        1005,
        81
      ],
      "color": "#3f789e",
      "font_size": 70,
      "locked": false
    },
    {
      "title": "腿部以上半身照，面部无遮挡",
      "bounding": [
        -5531,
        568,
        1072,
        114
      ],
      "color": "#3f789e",
      "font_size": 80,
      "locked": false
    },
    {
      "title": "flux重绘",
      "bounding": [
        53,
        744,
        2442,
        1284
      ],
      "color": "#3f789e",
      "font_size": 100,
      "locked": false
    }
  ],
  "config": {},
  "extra": {
    "workspace_info": {
      "id": "VsCZANcgOYcmTrm2pGVWF",
      "name": "主题写真.json"
    },
    "ds": {
      "scale": 0.37190082644629124,
      "offset": {
        "0": 6576.020583599288,
        "1": 219.45388514819896
      }
    },
    "0246.VERSION": [
      0,
      0,
      4
    ]
  },
  "version": 0.4
}