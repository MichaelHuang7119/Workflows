{
  "last_node_id": 88,
  "last_link_id": 88,
  "nodes": [
    {
      "id": 1,
      "type": "Joy_caption_load",
      "pos": {
        "0": 132,
        "1": 453
      },
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "JoyPipeline",
          "type": "JoyPipeline",
          "links": [
            75
          ],
          "shape": 3,
          "label": "JoyCaption"
        }
      ],
      "properties": {
        "Node name for S&R": "Joy_caption_load"
      },
      "widgets_values": [
        "unsloth/Meta-Llama-3.1-8B-bnb-4bit"
      ]
    },
    {
      "id": 66,
      "type": "Text Concatenate",
      "pos": {
        "0": 1390,
        "1": 370
      },
      "size": {
        "0": 315,
        "1": 178
      },
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "text_a",
          "type": "STRING",
          "link": 62,
          "widget": {
            "name": "text_a"
          },
          "label": "文本_A"
        },
        {
          "name": "text_b",
          "type": "STRING",
          "link": 77,
          "widget": {
            "name": "text_b"
          },
          "label": "文本_B"
        },
        {
          "name": "text_c",
          "type": "STRING",
          "link": null,
          "widget": {
            "name": "text_c"
          },
          "label": "文本_C"
        },
        {
          "name": "text_d",
          "type": "STRING",
          "link": null,
          "widget": {
            "name": "text_d"
          },
          "label": "文本_d"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            60
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "字符串"
        }
      ],
      "properties": {
        "Node name for S&R": "Text Concatenate"
      },
      "widgets_values": [
        "",
        "false",
        "",
        "",
        "",
        ""
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 71,
      "type": "Simple String",
      "pos": {
        "0": 1380,
        "1": 730
      },
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            63
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "字符串"
        }
      ],
      "properties": {
        "Node name for S&R": "Simple String"
      },
      "widgets_values": [
        "anime"
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 68,
      "type": "Text Find and Replace Input",
      "pos": {
        "0": 1840,
        "1": 460
      },
      "size": {
        "0": 317.4000244140625,
        "1": 166
      },
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 60,
          "widget": {
            "name": "text"
          },
          "label": "文本"
        },
        {
          "name": "find",
          "type": "STRING",
          "link": 61,
          "widget": {
            "name": "find"
          },
          "label": "目标"
        },
        {
          "name": "replace",
          "type": "STRING",
          "link": 63,
          "widget": {
            "name": "replace"
          },
          "label": "替换"
        }
      ],
      "outputs": [
        {
          "name": "result_text",
          "type": "STRING",
          "links": [
            64
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "文本"
        },
        {
          "name": "replacement_count_number",
          "type": "NUMBER",
          "links": null,
          "shape": 3,
          "label": "替换数量(数字)"
        },
        {
          "name": "replacement_count_float",
          "type": "FLOAT",
          "links": null,
          "shape": 3,
          "label": "替换数量(浮点)"
        },
        {
          "name": "replacement_count_int",
          "type": "INT",
          "links": null,
          "shape": 3,
          "label": "替换数量(整数)"
        }
      ],
      "properties": {
        "Node name for S&R": "Text Find and Replace Input"
      },
      "widgets_values": [
        "",
        "",
        ""
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 70,
      "type": "Simple String",
      "pos": {
        "0": 1010,
        "1": 335
      },
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            62
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "字符串"
        }
      ],
      "properties": {
        "Node name for S&R": "Simple String"
      },
      "widgets_values": [
        ",this is a anime scene,"
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 69,
      "type": "Simple String",
      "pos": {
        "0": 1390,
        "1": 610
      },
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            61
          ],
          "shape": 3,
          "label": "字符串"
        }
      ],
      "properties": {
        "Node name for S&R": "Simple String"
      },
      "widgets_values": [
        "realistic"
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 73,
      "type": "Note",
      "pos": {
        "0": 1032,
        "1": 553
      },
      "size": {
        "0": 330.03240966796875,
        "1": 127.37342834472656
      },
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "这个组做了两件事：\n1.由于我主要炼的是动漫人物，打标结果里统一加上内容：,this is a anime scene,这样炼出来的lora才更容易生成写实风格的画面\n2.以防自动打标内容不准确，所以将提示词里的realistic全部替换为anime\n\n大家可以根据自身情况打开/关闭此组"
      ],
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 55,
      "type": "Text Concatenate",
      "pos": {
        "0": -678.9686889648438,
        "1": 544.6024169921875
      },
      "size": {
        "0": 315,
        "1": 178
      },
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "name": "text_a",
          "type": "STRING",
          "link": 48,
          "widget": {
            "name": "text_a"
          },
          "label": "文本_A"
        },
        {
          "name": "text_b",
          "type": "STRING",
          "link": 49,
          "widget": {
            "name": "text_b"
          },
          "label": "文本_B"
        },
        {
          "name": "text_c",
          "type": "STRING",
          "link": null,
          "widget": {
            "name": "text_c"
          },
          "label": "文本_C"
        },
        {
          "name": "text_d",
          "type": "STRING",
          "link": null,
          "widget": {
            "name": "text_d"
          },
          "label": "文本_d"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            56
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "字符串"
        }
      ],
      "properties": {
        "Node name for S&R": "Text Concatenate"
      },
      "widgets_values": [
        "",
        "true",
        "",
        "",
        "",
        ""
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 60,
      "type": "ShowText|pysssss",
      "pos": {
        "0": -314,
        "1": 548
      },
      "size": {
        "0": 315,
        "1": 76
      },
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 56,
          "widget": {
            "name": "text"
          },
          "label": "文本"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            81
          ],
          "slot_index": 0,
          "shape": 6,
          "label": "字符串"
        }
      ],
      "properties": {
        "Node name for S&R": "ShowText|pysssss"
      },
      "widgets_values": [
        "",
        "C:\\Users\\Cherron\\Pictures\\ai图\\炼丹\\荒"
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 87,
      "type": "LoadImageListFromDir //Inspire",
      "pos": {
        "0": 133,
        "1": 584
      },
      "size": {
        "0": 315,
        "1": 170
      },
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "directory",
          "type": "STRING",
          "link": 81,
          "widget": {
            "name": "directory"
          },
          "label": "路径"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            82,
            83
          ],
          "slot_index": 0,
          "shape": 6,
          "label": "图像"
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 6,
          "label": "遮罩"
        },
        {
          "name": "FILE PATH",
          "type": "STRING",
          "links": null,
          "shape": 6
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImageListFromDir //Inspire"
      },
      "widgets_values": [
        "",
        1000,
        0,
        false
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 51,
      "type": "CFICLS_SaveImageCaptionBatch",
      "pos": {
        "0": 2275,
        "1": 902
      },
      "size": {
        "0": 352.79998779296875,
        "1": 130
      },
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 83,
          "label": "images"
        },
        {
          "name": "captions",
          "type": "STRING",
          "link": 64,
          "widget": {
            "name": "captions"
          },
          "label": "captions"
        },
        {
          "name": "prefix",
          "type": "STRING",
          "link": 84,
          "widget": {
            "name": "prefix"
          },
          "label": "prefix"
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "CFICLS_SaveImageCaptionBatch"
      },
      "widgets_values": [
        "",
        "图片打标/陆雪琪/IMG",
        ".txt"
      ]
    },
    {
      "id": 58,
      "type": "Text Concatenate",
      "pos": {
        "0": -683,
        "1": 812
      },
      "size": {
        "0": 315,
        "1": 178
      },
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "text_a",
          "type": "STRING",
          "link": 86,
          "widget": {
            "name": "text_a"
          },
          "label": "文本_A"
        },
        {
          "name": "text_b",
          "type": "STRING",
          "link": 87,
          "widget": {
            "name": "text_b"
          },
          "label": "文本_B"
        },
        {
          "name": "text_c",
          "type": "STRING",
          "link": 88,
          "widget": {
            "name": "text_c"
          },
          "label": "文本_C"
        },
        {
          "name": "text_d",
          "type": "STRING",
          "link": null,
          "widget": {
            "name": "text_d"
          },
          "label": "文本_d"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            55
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "字符串"
        }
      ],
      "properties": {
        "Node name for S&R": "Text Concatenate"
      },
      "widgets_values": [
        "",
        "true",
        "",
        "",
        "",
        ""
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 59,
      "type": "ShowText|pysssss",
      "pos": {
        "0": -325,
        "1": 813
      },
      "size": {
        "0": 315,
        "1": 76
      },
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 55,
          "widget": {
            "name": "text"
          },
          "label": "文本"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            84
          ],
          "slot_index": 0,
          "shape": 6,
          "label": "字符串"
        }
      ],
      "properties": {
        "Node name for S&R": "ShowText|pysssss"
      },
      "widgets_values": [
        "",
        "打标\\荒\\IMG"
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 83,
      "type": "Joy_caption",
      "pos": {
        "0": 525,
        "1": 496
      },
      "size": {
        "0": 400,
        "1": 200
      },
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "joy_pipeline",
          "type": "JoyPipeline",
          "link": 75,
          "label": "JoyCaption"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 82,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            77
          ],
          "shape": 3,
          "label": "字符串"
        }
      ],
      "properties": {
        "Node name for S&R": "Joy_caption"
      },
      "widgets_values": [
        "A descriptive caption for this image",
        300,
        0.7,
        true
      ]
    },
    {
      "id": 72,
      "type": "Note",
      "pos": {
        "0": -1065.9686279296875,
        "1": 795.6025390625
      },
      "size": {
        "0": 332.4971923828125,
        "1": 211.5267791748047
      },
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "为了方便每次使用时仅需更改一次角色路径，所以做此分组\n原始图路径=文本+文本_B\n打标结果路径=output\\+文本_C+文本_B+文本_D\n\n使用办法：\n第一次使用时根据自己的情况设置文本、文本_B、文本_C、文本_D的值\n后续每次使用，只需要调整文本_B的值就行（一个lora素材为一个名字）"
      ],
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 57,
      "type": "Text String",
      "pos": {
        "0": -1072,
        "1": 552
      },
      "size": {
        "0": 315,
        "1": 190
      },
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            48
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "字符串"
        },
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            49,
            87
          ],
          "slot_index": 1,
          "shape": 3,
          "label": "字符串"
        },
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            86
          ],
          "slot_index": 2,
          "shape": 3,
          "label": "字符串"
        },
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            88
          ],
          "slot_index": 3,
          "shape": 3,
          "label": "字符串"
        }
      ],
      "properties": {
        "Node name for S&R": "Text String"
      },
      "widgets_values": [
        "C:\\Users\\Cherron\\Pictures\\ai图\\炼丹\\",
        "荒",
        "打标\\",
        "\\IMG"
      ],
      "color": "#432",
      "bgcolor": "#653",
      "category": "Custom Nodes"
    }
  ],
  "links": [
    [
      48,
      57,
      0,
      55,
      0,
      "STRING"
    ],
    [
      49,
      57,
      1,
      55,
      1,
      "STRING"
    ],
    [
      55,
      58,
      0,
      59,
      0,
      "STRING"
    ],
    [
      56,
      55,
      0,
      60,
      0,
      "STRING"
    ],
    [
      60,
      66,
      0,
      68,
      0,
      "STRING"
    ],
    [
      61,
      69,
      0,
      68,
      1,
      "STRING"
    ],
    [
      62,
      70,
      0,
      66,
      0,
      "STRING"
    ],
    [
      63,
      71,
      0,
      68,
      2,
      "STRING"
    ],
    [
      64,
      68,
      0,
      51,
      1,
      "STRING"
    ],
    [
      75,
      1,
      0,
      83,
      0,
      "JoyPipeline"
    ],
    [
      77,
      83,
      0,
      66,
      1,
      "STRING"
    ],
    [
      81,
      60,
      0,
      87,
      0,
      "STRING"
    ],
    [
      82,
      87,
      0,
      83,
      1,
      "IMAGE"
    ],
    [
      83,
      87,
      0,
      51,
      0,
      "IMAGE"
    ],
    [
      84,
      59,
      0,
      51,
      2,
      "STRING"
    ],
    [
      86,
      57,
      2,
      58,
      0,
      "STRING"
    ],
    [
      87,
      57,
      1,
      58,
      1,
      "STRING"
    ],
    [
      88,
      57,
      3,
      58,
      2,
      "STRING"
    ]
  ],
  "groups": [
    {
      "title": "统一管理文件夹路径",
      "bounding": [
        -1094,
        409,
        1125,
        662
      ],
      "color": "#8A8",
      "font_size": 24,
      "flags": {}
    },
    {
      "title": "打标词二次处理",
      "bounding": [
        998,
        191,
        1176,
        629
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 1,
      "offset": [
        1232.4169205259175,
        -240.15955758339211
      ]
    },
    "workspace_info": {
      "id": "b0ea9536-4377-444d-8606-da0eb2ba4a87",
      "saveLock": false,
      "cloudID": null,
      "coverMediaPath": null
    }
  },
  "version": 0.4
}