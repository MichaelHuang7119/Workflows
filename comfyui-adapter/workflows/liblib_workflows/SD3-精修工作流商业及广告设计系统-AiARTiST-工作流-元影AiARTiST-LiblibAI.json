{
  "last_node_id": 117,
  "last_link_id": 174,
  "nodes": [
    {
      "id": 46,
      "type": "easy globalSeed",
      "pos": [
        24,
        912
      ],
      "size": [
        504,
        120
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "properties": {
        "Node name for S&R": "easy globalSeed"
      },
      "widgets_values": [
        464267791901911,
        true,
        "randomize",
        985223753338708
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Custom Nodes"
    },
    {
      "id": 45,
      "type": "EmptyLatentImage",
      "pos": [
        1056,
        240
      ],
      "size": [
        408,
        96
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            55
          ],
          "shape": 3,
          "label": "Latent",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "EmptyLatentImage"
      },
      "widgets_values": [
        384,
        768,
        1
      ],
      "_widget_cache_map": {},
      "color": "#2a363b",
      "bgcolor": "#3f5159",
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 64,
      "type": "LatentUpscaleBy",
      "pos": [
        552,
        1152
      ],
      "size": [
        480,
        96
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 84,
          "label": "Latent"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            85
          ],
          "shape": 3,
          "label": "Latent",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "LatentUpscaleBy"
      },
      "widgets_values": [
        "nearest-exact",
        1.5
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 56,
      "type": "CLIPTextEncode",
      "pos": [
        24,
        1296
      ],
      "size": [
        1008,
        144
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 77,
          "label": "CLIP",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            91
          ],
          "shape": 3,
          "label": "条件",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "1girl"
      ],
      "_widget_cache_map": {},
      "color": "#322",
      "bgcolor": "#533",
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 40,
      "type": "Note",
      "pos": [
        24,
        816
      ],
      "size": {
        "0": 504,
        "1": 58
      },
      "flags": {},
      "order": 2,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "加载LoRA风格模型 1 SD1.5 LoRA模型，Ctrl+B 打开/关闭 （关闭不影响后续流程执行）"
      ],
      "_widget_cache_map": {},
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 42,
      "type": "Note",
      "pos": [
        552,
        816
      ],
      "size": {
        "0": 480,
        "1": 58
      },
      "flags": {},
      "order": 3,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "加载LoRA风格模型 2 这里我用的是Hyper 1.5加速器LoRA（关闭不影响后续流程执行）"
      ],
      "_widget_cache_map": {},
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 52,
      "type": "VAEEncode",
      "pos": [
        552,
        1656
      ],
      "size": [
        216,
        48
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 98,
          "label": "图像"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 66,
          "label": "VAE"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            84
          ],
          "shape": 3,
          "label": "Latent",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEEncode"
      },
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 57,
      "type": "CLIPTextEncode",
      "pos": [
        24,
        1488
      ],
      "size": [
        1008,
        120
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 76,
          "label": "CLIP",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            75
          ],
          "shape": 3,
          "label": "条件"
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        ""
      ],
      "_widget_cache_map": {},
      "color": "#232",
      "bgcolor": "#353",
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 36,
      "type": "Note",
      "pos": [
        24,
        1656
      ],
      "size": {
        "0": 504,
        "1": 96
      },
      "flags": {},
      "order": 4,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "加载SD3模型，并填写SD3专用提示词。SD3模型对SD1.5提示词的理解能力很一般，而且人像部分的训练还很不完善，所以尽量用自然语言（英文）作为提示，可以加入一些画质提升词。目前适合生成手绘、3D、卡通等风格。"
      ],
      "_widget_cache_map": {},
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 29,
      "type": "Note",
      "pos": [
        -552,
        72
      ],
      "size": {
        "0": 480,
        "1": 960
      },
      "flags": {},
      "order": 5,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "稳定扩散3中型（V3 Medium）是一款多模态扩散变换器（Multimodal Diffusion Transformer，简称MMDiT），专门设计用于文本到图像的转换任务。相较于前代技术，它在图像质量、版式设计、复杂提示理解以及资源效率方面实现了显著提升，代表了AI生成艺术和设计领域的一项重要进步。\n\n\nV3模型下载链接 ： https://pan.baidu.com/s/1gRA3ezoP-rUbLAYM07lU6Q\n\n提取码：5gw6\n\nLiblib V3模型下载：\nhttps://www.liblib.art/modelinfo/7449642bdf39443aa66341837025c690\n\n\n本地测试可以只下载 sd3_medium_incl_clips.safetensors 5.6G版（内置文本层，无T5）\n\n\n为用户便利起见，SAI准备了V3 Medium模型的三种包装变体，每种变体均配备了相同的MMDiT与VAE权重。\n\nmedium.safetensors：此包包含MMDiT和VAE权重，但未包含任何文本编码器。适合那些仅需图像生成核心功能且已有自定义文本处理方案的用户。\n\nmedium_incl_clips_t5xxlfp8.safetensors：这个版本包含了所有必要的权重，特别是采用了T5XXL文本编码器的fp8版本，旨在平衡生成质量与资源消耗。它适合追求高质量生成结果同时具备相应硬件支持的用户。\n\nmedium_incl_clips.safetensors：包含除了T5XXL文本编码器之外的所有必要权重，这意味着它对资源的需求最小，但缺少该高级文本编码器可能影响模型在理解和生成特定文本指令方面的性能。\n\n延申模型：\n\nAiARTiST\n\nSDXL的SD3模拟器LoRA上线：\nSD3模拟器-XL-V3-Simulator-LoRA\n\nhttps://www.liblib.art/modelinfo/7449642bdf39443aa66341837025c690\n\n----------------------------------------------------------------------\n\nLib会员可享有在线加速生成，方便在线搭配CADS系列LoRA使用。\n\n模型清单： https://www.liblib.art/search?keyword=AiARTiST\n\n免费模型占比 55% ，开源模型占比 95%\n\n会员模型占比 40% ，闭源模型占比 5%\n\n\n\n商用模型：\n\nAiARTiST-CADS2.0 XL 商业广告辅助系统（企业定制）\n\nhttps://www.liblib.art/modelinfo/a56ebacdba7d4e30b97bb124bc3fc28f \n\n----------------------------------------------------------------------\n测试问题请留言，业务合作看个人首页 +V Zyuan980\nAiARTiST | Metaverse 中国·山东 数字人/AiGC/元宇宙方向\n做好工具人 服务艺术家 联系方式：https://afdian.net/a/AiARTiST-lib"
      ],
      "_widget_cache_map": {},
      "color": "#322",
      "bgcolor": "#533",
      "category": "Official"
    },
    {
      "id": 47,
      "type": "VAEDecode",
      "pos": [
        552,
        912
      ],
      "size": [
        480,
        120
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 56,
          "label": "Latent"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 95,
          "label": "VAE"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            58,
            98
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 54,
      "type": "VAEDecode",
      "pos": [
        816,
        1656
      ],
      "size": [
        210,
        46
      ],
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 67,
          "label": "Latent"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 68,
          "label": "VAE"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            99,
            100
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 79,
      "type": "CLIPSetLastLayer",
      "pos": [
        1056,
        96
      ],
      "size": [
        408,
        72
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 103,
          "label": "CLIP"
        }
      ],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            170,
            172
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "CLIP"
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPSetLastLayer"
      },
      "widgets_values": [
        -1
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 44,
      "type": "KSampler",
      "pos": [
        1056,
        384
      ],
      "size": [
        408,
        648
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 167,
          "label": "模型"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 52,
          "label": "正面条件"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 53,
          "label": "负面条件"
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 55,
          "label": "Latent"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            56
          ],
          "shape": 3,
          "label": "Latent",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        464267791901911,
        "randomize",
        20,
        3,
        "euler_ancestral",
        "normal",
        1
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 50,
      "type": "PreviewImage",
      "pos": [
        1512,
        48
      ],
      "size": [
        840,
        672
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 58,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "shape": 1,
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 87,
      "type": "CoreMLDetailerHookProvider",
      "pos": [
        24,
        2016
      ],
      "size": [
        315,
        58
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "outputs": [
        {
          "name": "DETAILER_HOOK",
          "type": "DETAILER_HOOK",
          "links": [
            113
          ],
          "shape": 3,
          "label": "细化约束"
        }
      ],
      "properties": {
        "Node name for S&R": "CoreMLDetailerHookProvider"
      },
      "widgets_values": [
        "768x768"
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Custom Nodes"
    },
    {
      "id": 89,
      "type": "PreviewImage",
      "pos": [
        1512,
        1824
      ],
      "size": [
        840,
        1224
      ],
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 159,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 94,
      "type": "UltralyticsDetectorProvider",
      "pos": [
        24,
        1872
      ],
      "size": [
        315,
        78
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [
            121
          ],
          "shape": 3,
          "label": "BBox检测",
          "slot_index": 0
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": [
            120
          ],
          "shape": 3,
          "label": "SEGM检测",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "UltralyticsDetectorProvider"
      },
      "widgets_values": [
        "bbox/face_yolov8m"
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Custom Nodes"
    },
    {
      "id": 99,
      "type": "FromDetailerPipe_v2",
      "pos": [
        24,
        2280
      ],
      "size": [
        312,
        216
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "detailer_pipe",
          "type": "DETAILER_PIPE",
          "link": 127,
          "label": "细化节点束"
        }
      ],
      "outputs": [
        {
          "name": "detailer_pipe",
          "type": "DETAILER_PIPE",
          "links": null,
          "shape": 3,
          "label": "细化节点束",
          "slot_index": 0
        },
        {
          "name": "model",
          "type": "MODEL",
          "links": [
            152
          ],
          "shape": 3,
          "label": "模型",
          "slot_index": 1
        },
        {
          "name": "clip",
          "type": "CLIP",
          "links": [
            153
          ],
          "shape": 3,
          "label": "CLIP",
          "slot_index": 2
        },
        {
          "name": "vae",
          "type": "VAE",
          "links": [
            154
          ],
          "shape": 3,
          "label": "VAE",
          "slot_index": 3
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            155
          ],
          "shape": 3,
          "label": "正面条件",
          "slot_index": 4
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            156
          ],
          "shape": 3,
          "label": "负面条件",
          "slot_index": 5
        },
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "links": null,
          "shape": 3,
          "label": "BBox检测"
        },
        {
          "name": "sam_model_opt",
          "type": "SAM_MODEL",
          "links": [
            157
          ],
          "shape": 3,
          "label": "SAM模型",
          "slot_index": 7
        },
        {
          "name": "segm_detector_opt",
          "type": "SEGM_DETECTOR",
          "links": null,
          "shape": 3,
          "label": "Segm检测"
        },
        {
          "name": "detailer_hook",
          "type": "DETAILER_HOOK",
          "links": [
            158
          ],
          "shape": 3,
          "label": "细化约束",
          "slot_index": 9
        }
      ],
      "properties": {
        "Node name for S&R": "FromDetailerPipe_v2"
      },
      "locked": true,
      "category": "Custom Nodes"
    },
    {
      "id": 95,
      "type": "SAMLoader",
      "pos": [
        24,
        2136
      ],
      "size": [
        315,
        82
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "outputs": [
        {
          "name": "SAM_MODEL",
          "type": "SAM_MODEL",
          "links": [
            122
          ],
          "shape": 3,
          "label": "SAM模型",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "SAMLoader"
      },
      "widgets_values": [
        "sam_vit_b_01ec64.pth",
        "Prefer GPU"
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Custom Nodes"
    },
    {
      "id": 3,
      "type": "KSampler",
      "pos": [
        1056,
        1152
      ],
      "size": [
        408,
        600
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 1,
          "label": "模型"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 91,
          "label": "正面条件",
          "slot_index": 1
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 75,
          "label": "负面条件",
          "slot_index": 2
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 85,
          "label": "Latent",
          "slot_index": 3
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            67
          ],
          "slot_index": 0,
          "label": "Latent"
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        464267791901911,
        "randomize",
        28,
        4.5,
        "ddim",
        "ddim_uniform",
        0.55
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 108,
      "type": "UltralyticsDetectorProvider",
      "pos": [
        24,
        2568
      ],
      "size": [
        312,
        72
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [
            148
          ],
          "shape": 3,
          "label": "BBox检测",
          "slot_index": 0
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": [
            149
          ],
          "shape": 3,
          "label": "SEGM检测",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "UltralyticsDetectorProvider"
      },
      "widgets_values": [
        "bbox/face_yolov8m"
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Custom Nodes"
    },
    {
      "id": 113,
      "type": "Note",
      "pos": [
        51.71012168168545,
        3171.266640236373
      ],
      "size": {
        "0": 528,
        "1": 72
      },
      "flags": {},
      "order": 10,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "目前尚未完成，工作流支持定制【定制链接】https://afdian.net/a/AiARTiST-lib?tab=shop"
      ],
      "_widget_cache_map": {},
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 115,
      "type": "CR Multi Upscale Stack",
      "pos": [
        48,
        3384
      ],
      "size": {
        "0": 528,
        "1": 270
      },
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "upscale_stack",
          "type": "UPSCALE_STACK",
          "link": null,
          "label": "放大堆",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "UPSCALE_STACK",
          "type": "UPSCALE_STACK",
          "links": [
            162
          ],
          "shape": 3,
          "label": "放大堆",
          "slot_index": 0
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "CR Multi Upscale Stack"
      },
      "widgets_values": [
        "On",
        "None",
        2,
        "Off",
        "None",
        2,
        "Off",
        "None",
        2
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 117,
      "type": "PreviewImage",
      "pos": [
        960,
        3384
      ],
      "size": {
        "0": 504,
        "1": 528
      },
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 163,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "category": "Primitive Nodes"
    },
    {
      "id": 9,
      "type": "SaveImage",
      "pos": [
        1512,
        3120
      ],
      "size": [
        840,
        792
      ],
      "flags": {},
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 164,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "SaveImage"
      },
      "widgets_values": [
        "METAFILMSD3"
      ],
      "_widget_cache_map": {},
      "color": "#222",
      "bgcolor": "#000",
      "shape": 1,
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 116,
      "type": "CR Apply Multi Upscale",
      "pos": [
        48,
        3720
      ],
      "size": {
        "0": 528,
        "1": 126
      },
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 165,
          "label": "图像"
        },
        {
          "name": "upscale_stack",
          "type": "UPSCALE_STACK",
          "link": 162,
          "label": "放大堆"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            163,
            164
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "CR Apply Multi Upscale"
      },
      "widgets_values": [
        "lanczos",
        "true",
        8
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 81,
      "type": "PreviewImage",
      "pos": [
        1512,
        792
      ],
      "size": [
        840,
        984
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 99,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "shape": 1,
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 48,
      "type": "VAELoader",
      "pos": [
        600,
        96
      ],
      "size": [
        432,
        72
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            101
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAELoader"
      },
      "widgets_values": [
        "sd_xl_vae_1.0"
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 37,
      "type": "Note",
      "pos": [
        24,
        240
      ],
      "size": {
        "0": 552,
        "1": 58
      },
      "flags": {},
      "order": 13,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "加载常用 SD1.5/SDXL 模型"
      ],
      "_widget_cache_map": {},
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 49,
      "type": "Note",
      "pos": [
        600,
        240
      ],
      "size": {
        "0": 432,
        "1": 58
      },
      "flags": {},
      "order": 14,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "用于没有内置VAE编码器的SD1.5模型，或额外指定VAE解码器"
      ],
      "_widget_cache_map": {},
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 34,
      "type": "CLIPTextEncode",
      "pos": [
        24,
        336
      ],
      "size": [
        1008,
        120
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 170,
          "label": "CLIP",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            52,
            105
          ],
          "shape": 3,
          "label": "条件",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "(masterpiece, top quality, best quality, official art, beautiful and aesthetic:1.2,ray tracing1.4), (1girl:1.3), Smoked makeup, makeup, manicures, eyelashes, bright eyes, blue eyes, delicate hair, clothing accessories, clothing textures,\n"
      ],
      "_widget_cache_map": {},
      "color": "#322",
      "bgcolor": "#533",
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 43,
      "type": "CLIPTextEncode",
      "pos": [
        24,
        504
      ],
      "size": [
        1008,
        96
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 172,
          "label": "CLIP",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            53,
            106
          ],
          "shape": 3,
          "label": "条件",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "blurry,low quality,bad anatomy,sketches,lowres,normal quality,worstquality,signature,watermark,cropped,bad proportions,out of focus,(worst quality, low quality:1.4),monochrome,zombie,(interlocked fingers),(worst quality, low quality:2),monochrome,zombie,overexposure,watermark,text,bad anatomy,bad hand,extra hands,extra fingers,(extra digit and hands and fingers and legs and arms:1.4),(deformed fingers:1.2),(long fingers:1.2),(bad-artist-anime),extra legs,lowres,bad anatomy,bad hands,text,error,missing fingers,extra digit,fewer digits,cropped,worst quality,low quality,normal quality,jpeg artifacts,signature,watermark,username,"
      ],
      "_widget_cache_map": {},
      "color": "#232",
      "bgcolor": "#353",
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 4,
      "type": "CheckpointLoaderSimple",
      "pos": [
        24,
        1152
      ],
      "size": [
        504,
        96
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            1
          ],
          "slot_index": 0,
          "label": "模型"
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            76,
            77
          ],
          "slot_index": 1,
          "label": "CLIP"
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            66,
            68
          ],
          "slot_index": 2,
          "label": "VAE"
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "基础模型_V3"
      ],
      "_widget_cache_map": {
        "基础模型_V3": {
          "name": "基础模型_V3",
          "value": 1882271
        }
      },
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 35,
      "type": "CheckpointLoaderSimple",
      "pos": [
        24,
        96
      ],
      "size": [
        552,
        96
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            102,
            167
          ],
          "shape": 3,
          "label": "模型",
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            103,
            174
          ],
          "shape": 3,
          "slot_index": 1,
          "label": "CLIP"
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            95
          ],
          "shape": 3,
          "slot_index": 2,
          "label": "VAE"
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "AiARTiST-CADS2.0XL 商业设计及广告辅助系统_CADS2.0"
      ],
      "_widget_cache_map": {
        "AiARTiST-CADS2.0XL 商业设计及广告辅助系统_CADS2.0": {
          "name": "AiARTiST-CADS2.0XL 商业设计及广告辅助系统_CADS2.0",
          "value": 1373028
        }
      },
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 112,
      "type": "FaceDetailer",
      "pos": [
        960,
        1872
      ],
      "size": [
        504,
        1128
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 151,
          "label": "图像"
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 152,
          "label": "模型"
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 153,
          "label": "CLIP"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 154,
          "label": "VAE"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 155,
          "label": "正面条件"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 156,
          "label": "负面条件"
        },
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 148,
          "label": "BBox检测",
          "slot_index": 6
        },
        {
          "name": "sam_model_opt",
          "type": "SAM_MODEL",
          "link": 157,
          "label": "SAM模型",
          "slot_index": 7
        },
        {
          "name": "segm_detector_opt",
          "type": "SEGM_DETECTOR",
          "link": 149,
          "label": "Segm检测",
          "slot_index": 8
        },
        {
          "name": "detailer_hook",
          "type": "DETAILER_HOOK",
          "link": 158,
          "label": "细化约束",
          "slot_index": 9
        },
        {
          "name": "scheduler_func_opt",
          "type": "SCHEDULER_FUNC",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            159,
            165
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        },
        {
          "name": "cropped_refined",
          "type": "IMAGE",
          "links": [],
          "shape": 6,
          "label": "细化图像",
          "slot_index": 1
        },
        {
          "name": "cropped_enhanced_alpha",
          "type": "IMAGE",
          "links": null,
          "shape": 6,
          "label": "细化部分"
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "遮罩"
        },
        {
          "name": "detailer_pipe",
          "type": "DETAILER_PIPE",
          "links": [],
          "shape": 3,
          "label": "细化节点束",
          "slot_index": 4
        },
        {
          "name": "cnet_images",
          "type": "IMAGE",
          "links": null,
          "shape": 6,
          "label": "ControlNet图像"
        }
      ],
      "properties": {
        "Node name for S&R": "FaceDetailer"
      },
      "widgets_values": [
        768,
        true,
        2048,
        464267791901911,
        "randomize",
        10,
        1,
        "euler_ancestral",
        "normal",
        0.5,
        35,
        true,
        true,
        0.5,
        10,
        3,
        "center-1",
        0,
        0.93,
        0,
        0.7,
        "False",
        10,
        "",
        1,
        false,
        10
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Custom Nodes"
    },
    {
      "id": 82,
      "type": "FaceDetailer",
      "pos": [
        384,
        1872
      ],
      "size": [
        504,
        1128
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 100,
          "label": "图像"
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 102,
          "label": "模型"
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 174,
          "label": "CLIP"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 101,
          "label": "VAE"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 105,
          "label": "正面条件"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 106,
          "label": "负面条件"
        },
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 121,
          "label": "BBox检测",
          "slot_index": 6
        },
        {
          "name": "sam_model_opt",
          "type": "SAM_MODEL",
          "link": 122,
          "label": "SAM模型",
          "slot_index": 7
        },
        {
          "name": "segm_detector_opt",
          "type": "SEGM_DETECTOR",
          "link": 120,
          "label": "Segm检测",
          "slot_index": 8
        },
        {
          "name": "detailer_hook",
          "type": "DETAILER_HOOK",
          "link": 113,
          "label": "细化约束",
          "slot_index": 9
        },
        {
          "name": "scheduler_func_opt",
          "type": "SCHEDULER_FUNC",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            151
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        },
        {
          "name": "cropped_refined",
          "type": "IMAGE",
          "links": [],
          "shape": 6,
          "label": "细化图像",
          "slot_index": 1
        },
        {
          "name": "cropped_enhanced_alpha",
          "type": "IMAGE",
          "links": null,
          "shape": 6,
          "label": "细化部分"
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "遮罩"
        },
        {
          "name": "detailer_pipe",
          "type": "DETAILER_PIPE",
          "links": [
            127
          ],
          "shape": 3,
          "label": "细化节点束",
          "slot_index": 4
        },
        {
          "name": "cnet_images",
          "type": "IMAGE",
          "links": null,
          "shape": 6,
          "label": "ControlNet图像"
        }
      ],
      "properties": {
        "Node name for S&R": "FaceDetailer"
      },
      "widgets_values": [
        768,
        true,
        2048,
        464267791901911,
        "randomize",
        10,
        1,
        "euler_ancestral",
        "normal",
        0.5,
        50,
        true,
        true,
        0.5,
        10,
        3,
        "center-1",
        0,
        0.93,
        0,
        0.7,
        "False",
        10,
        "",
        1,
        false,
        10
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Custom Nodes"
    }
  ],
  "links": [
    [
      1,
      4,
      0,
      3,
      0,
      "MODEL"
    ],
    [
      52,
      34,
      0,
      44,
      1,
      "CONDITIONING"
    ],
    [
      53,
      43,
      0,
      44,
      2,
      "CONDITIONING"
    ],
    [
      55,
      45,
      0,
      44,
      3,
      "LATENT"
    ],
    [
      56,
      44,
      0,
      47,
      0,
      "LATENT"
    ],
    [
      58,
      47,
      0,
      50,
      0,
      "IMAGE"
    ],
    [
      66,
      4,
      2,
      52,
      1,
      "VAE"
    ],
    [
      67,
      3,
      0,
      54,
      0,
      "LATENT"
    ],
    [
      68,
      4,
      2,
      54,
      1,
      "VAE"
    ],
    [
      75,
      57,
      0,
      3,
      2,
      "CONDITIONING"
    ],
    [
      76,
      4,
      1,
      57,
      0,
      "CLIP"
    ],
    [
      77,
      4,
      1,
      56,
      0,
      "CLIP"
    ],
    [
      84,
      52,
      0,
      64,
      0,
      "LATENT"
    ],
    [
      85,
      64,
      0,
      3,
      3,
      "LATENT"
    ],
    [
      91,
      56,
      0,
      3,
      1,
      "CONDITIONING"
    ],
    [
      95,
      35,
      2,
      47,
      1,
      "VAE"
    ],
    [
      98,
      47,
      0,
      52,
      0,
      "IMAGE"
    ],
    [
      99,
      54,
      0,
      81,
      0,
      "IMAGE"
    ],
    [
      100,
      54,
      0,
      82,
      0,
      "IMAGE"
    ],
    [
      101,
      48,
      0,
      82,
      3,
      "VAE"
    ],
    [
      102,
      35,
      0,
      82,
      1,
      "MODEL"
    ],
    [
      103,
      35,
      1,
      79,
      0,
      "CLIP"
    ],
    [
      105,
      34,
      0,
      82,
      4,
      "CONDITIONING"
    ],
    [
      106,
      43,
      0,
      82,
      5,
      "CONDITIONING"
    ],
    [
      113,
      87,
      0,
      82,
      9,
      "DETAILER_HOOK"
    ],
    [
      120,
      94,
      1,
      82,
      8,
      "SEGM_DETECTOR"
    ],
    [
      121,
      94,
      0,
      82,
      6,
      "BBOX_DETECTOR"
    ],
    [
      122,
      95,
      0,
      82,
      7,
      "SAM_MODEL"
    ],
    [
      127,
      82,
      4,
      99,
      0,
      "DETAILER_PIPE"
    ],
    [
      148,
      108,
      0,
      112,
      6,
      "BBOX_DETECTOR"
    ],
    [
      149,
      108,
      1,
      112,
      8,
      "SEGM_DETECTOR"
    ],
    [
      151,
      82,
      0,
      112,
      0,
      "IMAGE"
    ],
    [
      152,
      99,
      1,
      112,
      1,
      "MODEL"
    ],
    [
      153,
      99,
      2,
      112,
      2,
      "CLIP"
    ],
    [
      154,
      99,
      3,
      112,
      3,
      "VAE"
    ],
    [
      155,
      99,
      4,
      112,
      4,
      "CONDITIONING"
    ],
    [
      156,
      99,
      5,
      112,
      5,
      "CONDITIONING"
    ],
    [
      157,
      99,
      7,
      112,
      7,
      "SAM_MODEL"
    ],
    [
      158,
      99,
      9,
      112,
      9,
      "DETAILER_HOOK"
    ],
    [
      159,
      112,
      0,
      89,
      0,
      "IMAGE"
    ],
    [
      162,
      115,
      0,
      116,
      1,
      "UPSCALE_STACK"
    ],
    [
      163,
      116,
      0,
      117,
      0,
      "IMAGE"
    ],
    [
      164,
      116,
      0,
      9,
      0,
      "IMAGE"
    ],
    [
      165,
      112,
      0,
      116,
      0,
      "IMAGE"
    ],
    [
      167,
      35,
      0,
      44,
      0,
      "MODEL"
    ],
    [
      170,
      79,
      0,
      34,
      0,
      "CLIP"
    ],
    [
      172,
      79,
      0,
      43,
      0,
      "CLIP"
    ],
    [
      174,
      35,
      1,
      82,
      2,
      "CLIP"
    ]
  ],
  "groups": [
    {
      "title": "SD1.5 / LoRA / 加速器 文生图工作组 Ctrl框选 Ctrl+B 开关组件 Ctrl+回车 生图",
      "bounding": [
        11,
        23,
        1471,
        1029
      ],
      "color": "#444",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "SD3高清放大 （高分辨率修复）Ctrl框选，Ctrl+B 开关组件",
      "bounding": [
        10,
        1072,
        1474,
        700
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": true
    },
    {
      "title": "脸部细化 / 手部细化 Ctrl框选，Ctrl+B 开关组件",
      "bounding": [
        7,
        1793,
        1476,
        1255
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "ControlNet 工作组 （尚未完成）",
      "bounding": [
        2,
        3074,
        1483,
        210
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": true
    },
    {
      "title": "后期处理工作组  Ctrl框选，Ctrl+B 开关组件",
      "bounding": [
        2,
        3306,
        1484,
        630
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": true
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.5644739300537773,
      "offset": [
        1050.7785136463401,
        -1995.2761957431246
      ]
    },
    "0246.VERSION": [
      0,
      0,
      4
    ]
  },
  "version": 0.4
}