{
  "last_node_id": 348,
  "last_link_id": 730,
  "nodes": [
    {
      "id": 84,
      "type": "PrimitiveNode",
      "pos": {
        "0": 1569.62890625,
        "1": 228.82113647460938
      },
      "size": {
        "0": 210,
        "1": 82
      },
      "flags": {
        "collapsed": false
      },
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            217,
            218
          ],
          "slot_index": 0,
          "widget": {
            "name": "seed"
          },
          "label": "INT"
        }
      ],
      "properties": {
        "Run widget replace on values": false
      },
      "widgets_values": [
        880555907568656,
        "fixed"
      ],
      "category": "Official"
    },
    {
      "id": 110,
      "type": "Apply ControlNet Stack",
      "pos": {
        "0": 1109.3585205078125,
        "1": 503.3955383300781
      },
      "size": {
        "0": 203.1999969482422,
        "1": 66
      },
      "flags": {},
      "order": 38,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 426,
          "slot_index": 0,
          "label": "正面条件"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 268,
          "slot_index": 1,
          "label": "负面条件"
        },
        {
          "name": "cnet_stack",
          "type": "CONTROL_NET_STACK",
          "link": 471,
          "label": "ControlNet堆"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING+",
          "type": "CONDITIONING",
          "links": [
            430
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "正面条件"
        },
        {
          "name": "CONDITIONING-",
          "type": "CONDITIONING",
          "links": [
            270
          ],
          "slot_index": 1,
          "shape": 3,
          "label": "负面条件"
        }
      ],
      "properties": {
        "Node name for S&R": "Apply ControlNet Stack",
        "ttNbgOverride": {
          "color": "#222",
          "bgcolor": "#000",
          "groupcolor": "#444"
        }
      },
      "color": "#222",
      "bgcolor": "#000",
      "shape": 1,
      "category": "Custom Nodes"
    },
    {
      "id": 123,
      "type": "ImageToMask",
      "pos": {
        "0": 208,
        "1": 627
      },
      "size": {
        "0": 216.7227325439453,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 457,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            379,
            452
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageToMask"
      },
      "widgets_values": [
        "blue"
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 145,
      "type": "EmptyLatentImage",
      "pos": {
        "0": 1098.3585205078125,
        "1": 295.3955383300781
      },
      "size": {
        "0": 210,
        "1": 106
      },
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "batch_size",
          "type": "INT",
          "link": 344,
          "slot_index": 0,
          "widget": {
            "name": "batch_size"
          },
          "label": "批次大小"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            554
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "Latent"
        }
      ],
      "properties": {
        "Node name for S&R": "EmptyLatentImage"
      },
      "widgets_values": [
        288,
        512,
        96
      ],
      "color": "#232",
      "bgcolor": "#353",
      "category": "Primitive Nodes"
    },
    {
      "id": 158,
      "type": "InvertMask",
      "pos": {
        "0": 202.2848358154297,
        "1": 524.43017578125
      },
      "size": {
        "0": 210,
        "1": 26
      },
      "flags": {},
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 379,
          "label": "遮罩"
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            380
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "InvertMask"
      },
      "category": "Custom Nodes"
    },
    {
      "id": 214,
      "type": "ADE_UseEvolvedSampling",
      "pos": {
        "0": 1563.58984375,
        "1": -625.0142822265625
      },
      "size": {
        "0": 309.6392822265625,
        "1": 118
      },
      "flags": {},
      "order": 40,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 482,
          "slot_index": 0,
          "label": "模型"
        },
        {
          "name": "m_models",
          "type": "M_MODELS",
          "link": 476,
          "slot_index": 1,
          "label": "动态模型组"
        },
        {
          "name": "context_options",
          "type": "CONTEXT_OPTIONS",
          "link": 477,
          "slot_index": 2,
          "label": "上下文设置"
        },
        {
          "name": "sample_settings",
          "type": "SAMPLE_SETTINGS",
          "link": 478,
          "slot_index": 3,
          "label": "采样设置"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            483
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "模型"
        }
      ],
      "properties": {
        "Node name for S&R": "ADE_UseEvolvedSampling"
      },
      "widgets_values": [
        "sqrt_linear (AnimateDiff)"
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 262,
      "type": "Apply ControlNet Stack",
      "pos": {
        "0": 1104.3585205078125,
        "1": 721.3955078125
      },
      "size": {
        "0": 203.1999969482422,
        "1": 66
      },
      "flags": {},
      "order": 49,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 562,
          "slot_index": 0,
          "label": "正面条件"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 563,
          "slot_index": 1,
          "label": "负面条件"
        },
        {
          "name": "cnet_stack",
          "type": "CONTROL_NET_STACK",
          "link": 570,
          "label": "ControlNet堆"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING+",
          "type": "CONDITIONING",
          "links": [
            564
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "正面条件"
        },
        {
          "name": "CONDITIONING-",
          "type": "CONDITIONING",
          "links": [
            565
          ],
          "slot_index": 1,
          "shape": 3,
          "label": "负面条件"
        }
      ],
      "properties": {
        "Node name for S&R": "Apply ControlNet Stack",
        "ttNbgOverride": {
          "color": "#222",
          "bgcolor": "#000",
          "groupcolor": "#444"
        }
      },
      "color": "#222",
      "bgcolor": "#000",
      "shape": 1,
      "category": "Custom Nodes"
    },
    {
      "id": 265,
      "type": "ControlNetLoaderAdvanced",
      "pos": {
        "0": 686.6666259765625,
        "1": 1935.666748046875
      },
      "size": {
        "0": 350.53558349609375,
        "1": 58
      },
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [
        {
          "name": "timestep_keyframe",
          "type": "TIMESTEP_KEYFRAME",
          "link": null,
          "label": "帧间隔"
        }
      ],
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            566
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "ControlNet"
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoaderAdvanced"
      },
      "widgets_values": [
        "control_v11f1p_sd15_depth.pth"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159",
      "category": "Custom Nodes"
    },
    {
      "id": 323,
      "type": "AIO_Preprocessor",
      "pos": {
        "0": 655.66650390625,
        "1": 1690.555419921875
      },
      "size": {
        "0": 210,
        "1": 82
      },
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 702,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            699
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "AIO_Preprocessor"
      },
      "widgets_values": [
        "LineartStandardPreprocessor",
        512
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 329,
      "type": "AIO_Preprocessor",
      "pos": {
        "0": 677.6666259765625,
        "1": 2061.666748046875
      },
      "size": {
        "0": 210,
        "1": 82
      },
      "flags": {},
      "order": 46,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 704,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            706
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "AIO_Preprocessor"
      },
      "widgets_values": [
        "DepthAnythingPreprocessor",
        512
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 215,
      "type": "ADE_ApplyAnimateDiffModelSimple",
      "pos": {
        "0": 1573.58984375,
        "1": -454.013916015625
      },
      "size": {
        "0": 292.0396423339844,
        "1": 134
      },
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "motion_model",
          "type": "MOTION_MODEL_ADE",
          "link": 479,
          "slot_index": 0,
          "label": "动态模型"
        },
        {
          "name": "motion_lora",
          "type": "MOTION_LORA",
          "link": 480,
          "slot_index": 1,
          "label": "动态LoRA"
        },
        {
          "name": "scale_multival",
          "type": "MULTIVAL",
          "link": 481,
          "slot_index": 2,
          "label": "缩放多值"
        },
        {
          "name": "effect_multival",
          "type": "MULTIVAL",
          "link": null,
          "slot_index": 3,
          "label": "效果多值"
        },
        {
          "name": "ad_keyframes",
          "type": "AD_KEYFRAMES",
          "link": null,
          "label": "AD关键帧"
        },
        {
          "name": "per_block",
          "type": "PER_BLOCK",
          "link": null,
          "label": "per_block"
        }
      ],
      "outputs": [
        {
          "name": "M_MODELS",
          "type": "M_MODELS",
          "links": [
            476
          ],
          "shape": 3,
          "label": "动态模型组"
        }
      ],
      "properties": {
        "Node name for S&R": "ADE_ApplyAnimateDiffModelSimple"
      },
      "widgets_values": [
        ""
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 216,
      "type": "ADE_LoadAnimateDiffModel",
      "pos": {
        "0": 1593.58984375,
        "1": -24.014070510864258
      },
      "size": {
        "0": 310,
        "1": 60
      },
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [
        {
          "name": "ad_settings",
          "type": "AD_SETTINGS",
          "link": null,
          "slot_index": 0,
          "label": "AD设置"
        }
      ],
      "outputs": [
        {
          "name": "MOTION_MODEL",
          "type": "MOTION_MODEL_ADE",
          "links": [
            479
          ],
          "shape": 3,
          "label": "动态模型"
        }
      ],
      "properties": {
        "Node name for S&R": "ADE_LoadAnimateDiffModel"
      },
      "widgets_values": [
        "AnimateLCM_sd15_t2v.ckpt"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "category": "Custom Nodes"
    },
    {
      "id": 218,
      "type": "ADE_MultivalDynamic",
      "pos": {
        "0": 1593.58984375,
        "1": -134.0141143798828
      },
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {
          "name": "mask_optional",
          "type": "MASK",
          "link": null,
          "label": "遮罩"
        }
      ],
      "outputs": [
        {
          "name": "MULTIVAL",
          "type": "MULTIVAL",
          "links": [
            481
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "多值"
        }
      ],
      "properties": {
        "Node name for S&R": "ADE_MultivalDynamic"
      },
      "widgets_values": [
        1,
        ""
      ],
      "color": "#232",
      "bgcolor": "#353",
      "category": "Custom Nodes"
    },
    {
      "id": 220,
      "type": "ADE_AnimateDiffLoRALoader",
      "pos": {
        "0": 1573.58984375,
        "1": -274.013916015625
      },
      "size": {
        "0": 341.79296875,
        "1": 83.79075622558594
      },
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "name": "prev_motion_lora",
          "type": "MOTION_LORA",
          "link": null,
          "label": "前LoRA"
        }
      ],
      "outputs": [
        {
          "name": "MOTION_LORA",
          "type": "MOTION_LORA",
          "links": [
            480
          ],
          "shape": 3,
          "label": "动态LoRA"
        }
      ],
      "properties": {
        "Node name for S&R": "ADE_AnimateDiffLoRALoader"
      },
      "widgets_values": [
        "aidma-RUN-Motion Lora.safetensors",
        1.2,
        ""
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 69,
      "type": "KSampler (Efficient)",
      "pos": {
        "0": 1577.486328125,
        "1": 480.8211669921875
      },
      "size": {
        "0": 224.21002197265625,
        "1": 346
      },
      "flags": {},
      "order": 41,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 483,
          "label": "模型"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 430,
          "label": "正面条件"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 270,
          "label": "负面条件"
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 554,
          "slot_index": 3,
          "label": "Latent"
        },
        {
          "name": "optional_vae",
          "type": "VAE",
          "link": 173,
          "label": "VAE(可选)"
        },
        {
          "name": "script",
          "type": "SCRIPT",
          "link": null,
          "label": "脚本"
        },
        {
          "name": "seed",
          "type": "INT",
          "link": 217,
          "widget": {
            "name": "seed"
          },
          "label": "随机种"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            212
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "模型"
        },
        {
          "name": "CONDITIONING+",
          "type": "CONDITIONING",
          "links": [],
          "slot_index": 1,
          "shape": 3,
          "label": "正面条件"
        },
        {
          "name": "CONDITIONING-",
          "type": "CONDITIONING",
          "links": [],
          "slot_index": 2,
          "shape": 3,
          "label": "负面条件"
        },
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [],
          "slot_index": 3,
          "shape": 3,
          "label": "Latent"
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            234
          ],
          "slot_index": 4,
          "shape": 3,
          "label": "VAE"
        },
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            355,
            494,
            727
          ],
          "slot_index": 5,
          "shape": 3,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler (Efficient)"
      },
      "widgets_values": [
        880555907568656,
        null,
        10,
        1.5,
        "lcm",
        "sgm_uniform",
        1,
        "none",
        "true"
      ],
      "color": "#332222",
      "bgcolor": "#3f5159",
      "shape": 1,
      "category": "Custom Nodes"
    },
    {
      "id": 339,
      "type": "Note",
      "pos": {
        "0": 3560,
        "1": 70
      },
      "size": {
        "0": 210,
        "1": 60
      },
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "前面三个的效果喜欢哪一个可以这里选择"
      ],
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 335,
      "type": "ImageUpscaleWithModel",
      "pos": {
        "0": 3615.45263671875,
        "1": 425.45245361328125
      },
      "size": {
        "0": 241.79998779296875,
        "1": 46
      },
      "flags": {},
      "order": 53,
      "mode": 0,
      "inputs": [
        {
          "name": "upscale_model",
          "type": "UPSCALE_MODEL",
          "link": 724,
          "label": "放大模型"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 730,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            726
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageUpscaleWithModel"
      },
      "category": "Custom Nodes"
    },
    {
      "id": 82,
      "type": "KSampler (Efficient)",
      "pos": {
        "0": 1941.486083984375,
        "1": 497.18994140625
      },
      "size": {
        "0": 254.12818908691406,
        "1": 346
      },
      "flags": {},
      "order": 50,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 212,
          "label": "模型"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 564,
          "label": "正面条件"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 565,
          "label": "负面条件"
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 235,
          "label": "Latent"
        },
        {
          "name": "optional_vae",
          "type": "VAE",
          "link": 211,
          "label": "VAE(可选)"
        },
        {
          "name": "script",
          "type": "SCRIPT",
          "link": null,
          "label": "脚本"
        },
        {
          "name": "seed",
          "type": "INT",
          "link": 218,
          "widget": {
            "name": "seed"
          },
          "label": "随机种"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [],
          "slot_index": 0,
          "shape": 3,
          "label": "模型"
        },
        {
          "name": "CONDITIONING+",
          "type": "CONDITIONING",
          "links": [],
          "slot_index": 1,
          "shape": 3,
          "label": "正面条件"
        },
        {
          "name": "CONDITIONING-",
          "type": "CONDITIONING",
          "links": [],
          "slot_index": 2,
          "shape": 3,
          "label": "负面条件"
        },
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [],
          "slot_index": 3,
          "shape": 3,
          "label": "Latent"
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [],
          "slot_index": 4,
          "shape": 3,
          "label": "VAE"
        },
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            356,
            729
          ],
          "slot_index": 5,
          "shape": 3,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler (Efficient)"
      },
      "widgets_values": [
        880555907568656,
        null,
        8,
        1,
        "lcm",
        "sgm_uniform",
        0.75,
        "none",
        "true"
      ],
      "color": "#332222",
      "bgcolor": "#3f5159",
      "shape": 1,
      "category": "Custom Nodes"
    },
    {
      "id": 146,
      "type": "ImageScaleBy",
      "pos": {
        "0": 1941.486083984375,
        "1": 237.1899871826172
      },
      "size": {
        "0": 232.1606903076172,
        "1": 82
      },
      "flags": {},
      "order": 45,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 644,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            346
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageScaleBy"
      },
      "widgets_values": [
        "lanczos",
        1.75
      ],
      "category": "Primitive Nodes"
    },
    {
      "id": 208,
      "type": "ControlNetLoaderAdvanced",
      "pos": {
        "0": 671.66650390625,
        "1": 1542.555419921875
      },
      "size": {
        "0": 360,
        "1": 60
      },
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "name": "timestep_keyframe",
          "type": "TIMESTEP_KEYFRAME",
          "link": null,
          "label": "帧间隔"
        }
      ],
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            466
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "ControlNet"
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoaderAdvanced"
      },
      "widgets_values": [
        "control_v11p_sd15_lineart.pth"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159",
      "category": "Custom Nodes"
    },
    {
      "id": 206,
      "type": "Control Net Stacker",
      "pos": {
        "0": 1140,
        "1": 1210
      },
      "size": {
        "0": 211.60000610351562,
        "1": 146
      },
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 469,
          "label": "ControlNet"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 468,
          "label": "图像"
        },
        {
          "name": "cnet_stack",
          "type": "CONTROL_NET_STACK",
          "link": 465,
          "label": "ControlNet堆"
        }
      ],
      "outputs": [
        {
          "name": "CNET_STACK",
          "type": "CONTROL_NET_STACK",
          "links": [
            471
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "ControlNet堆"
        }
      ],
      "properties": {
        "Node name for S&R": "Control Net Stacker"
      },
      "widgets_values": [
        0.5,
        0,
        0.75
      ],
      "color": "#223322",
      "bgcolor": "#335533",
      "shape": 1,
      "category": "Custom Nodes"
    },
    {
      "id": 112,
      "type": "ControlNetLoaderAdvanced",
      "pos": {
        "0": 660,
        "1": 1220
      },
      "size": {
        "0": 440,
        "1": 60
      },
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "name": "timestep_keyframe",
          "type": "TIMESTEP_KEYFRAME",
          "link": null,
          "label": "帧间隔"
        }
      ],
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            469
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "ControlNet"
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoaderAdvanced"
      },
      "widgets_values": [
        "control_v1p_sd15_qrcode_monster_v2.safetensors"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159",
      "category": "Custom Nodes"
    },
    {
      "id": 207,
      "type": "Control Net Stacker",
      "pos": {
        "0": 1110,
        "1": 1590
      },
      "size": {
        "0": 211.60000610351562,
        "1": 146
      },
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 466,
          "label": "ControlNet"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 699,
          "label": "图像"
        },
        {
          "name": "cnet_stack",
          "type": "CONTROL_NET_STACK",
          "link": null,
          "label": "ControlNet堆"
        }
      ],
      "outputs": [
        {
          "name": "CNET_STACK",
          "type": "CONTROL_NET_STACK",
          "links": [
            465
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "ControlNet堆"
        }
      ],
      "properties": {
        "Node name for S&R": "Control Net Stacker"
      },
      "widgets_values": [
        1,
        0,
        0.75
      ],
      "color": "#223322",
      "bgcolor": "#335533",
      "shape": 1,
      "category": "Custom Nodes"
    },
    {
      "id": 267,
      "type": "Control Net Stacker",
      "pos": {
        "0": 1090,
        "1": 1950
      },
      "size": {
        "0": 211.60000610351562,
        "1": 146
      },
      "flags": {},
      "order": 48,
      "mode": 0,
      "inputs": [
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 566,
          "label": "ControlNet"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 706,
          "label": "图像"
        },
        {
          "name": "cnet_stack",
          "type": "CONTROL_NET_STACK",
          "link": null,
          "label": "ControlNet堆"
        }
      ],
      "outputs": [
        {
          "name": "CNET_STACK",
          "type": "CONTROL_NET_STACK",
          "links": [
            570
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "ControlNet堆"
        }
      ],
      "properties": {
        "Node name for S&R": "Control Net Stacker"
      },
      "widgets_values": [
        1,
        0,
        0.6
      ],
      "color": "#223322",
      "bgcolor": "#335533",
      "shape": 1,
      "category": "Custom Nodes"
    },
    {
      "id": 217,
      "type": "ADE_LoopedUniformContextOptions",
      "pos": {
        "0": 1261.2822265625,
        "1": -204.28952026367188
      },
      "size": {
        "0": 310.79998779296875,
        "1": 246
      },
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "prev_context",
          "type": "CONTEXT_OPTIONS",
          "link": null,
          "label": "前上下文"
        },
        {
          "name": "view_opts",
          "type": "VIEW_OPTS",
          "link": null,
          "label": "视图设置"
        }
      ],
      "outputs": [
        {
          "name": "CONTEXT_OPTS",
          "type": "CONTEXT_OPTIONS",
          "links": [
            477
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "上下文设置"
        }
      ],
      "properties": {
        "Node name for S&R": "ADE_LoopedUniformContextOptions"
      },
      "widgets_values": [
        16,
        1,
        6,
        true,
        "flat",
        true,
        0,
        1
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 219,
      "type": "ADE_AnimateDiffSamplingSettings",
      "pos": {
        "0": 1261.2822265625,
        "1": -574.2896728515625
      },
      "size": {
        "0": 292.31878662109375,
        "1": 254
      },
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "noise_layers",
          "type": "NOISE_LAYERS",
          "link": null,
          "label": "噪波层"
        },
        {
          "name": "iteration_opts",
          "type": "ITERATION_OPTS",
          "link": null,
          "label": "迭代设置"
        },
        {
          "name": "custom_cfg",
          "type": "CUSTOM_CFG",
          "link": null,
          "label": "自定CFG"
        },
        {
          "name": "sigma_schedule",
          "type": "SIGMA_SCHEDULE",
          "link": null,
          "label": "Sigma调度"
        },
        {
          "name": "seed_override",
          "type": "INT",
          "link": null,
          "widget": {
            "name": "seed_override"
          },
          "label": "覆盖随机种"
        },
        {
          "name": "seed_override",
          "type": "INT",
          "link": null,
          "widget": {
            "name": "seed_override"
          },
          "label": "覆盖随机种"
        }
      ],
      "outputs": [
        {
          "name": "settings",
          "type": "SAMPLE_SETTINGS",
          "links": [
            478
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "采样设置"
        }
      ],
      "properties": {
        "Node name for S&R": "ADE_AnimateDiffSamplingSettings"
      },
      "widgets_values": [
        0,
        "FreeNoise",
        "comfy",
        0,
        0,
        false,
        ""
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 259,
      "type": "ImageCrop+",
      "pos": {
        "0": 660,
        "1": -400
      },
      "size": {
        "0": 210,
        "1": 194
      },
      "flags": {
        "collapsed": false
      },
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 557,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            558
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "图像"
        },
        {
          "name": "x",
          "type": "INT",
          "links": null,
          "shape": 3,
          "label": "X"
        },
        {
          "name": "y",
          "type": "INT",
          "links": null,
          "shape": 3,
          "label": "Y"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageCrop+"
      },
      "widgets_values": [
        512,
        768,
        "center",
        0,
        0
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 260,
      "type": "ImageCrop+",
      "pos": {
        "0": 920,
        "1": -410
      },
      "size": {
        "0": 210,
        "1": 194
      },
      "flags": {
        "collapsed": false
      },
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 559,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            560
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "图像"
        },
        {
          "name": "x",
          "type": "INT",
          "links": null,
          "shape": 3,
          "label": "X"
        },
        {
          "name": "y",
          "type": "INT",
          "links": null,
          "shape": 3,
          "label": "Y"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageCrop+"
      },
      "widgets_values": [
        512,
        768,
        "center",
        0,
        0
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 105,
      "type": "IPAdapterAdvanced",
      "pos": {
        "0": 660,
        "1": -750
      },
      "size": {
        "0": 210,
        "1": 278
      },
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 256,
          "label": "模型"
        },
        {
          "name": "ipadapter",
          "type": "IPADAPTER",
          "link": 257,
          "label": "IPAdapter"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 558,
          "label": "正面图像"
        },
        {
          "name": "image_negative",
          "type": "IMAGE",
          "link": null,
          "slot_index": 3,
          "label": "负面图像"
        },
        {
          "name": "attn_mask",
          "type": "MASK",
          "link": 452,
          "label": "关注层遮罩"
        },
        {
          "name": "clip_vision",
          "type": "CLIP_VISION",
          "link": null,
          "label": "CLIP视觉"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            377
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "模型"
        }
      ],
      "properties": {
        "Node name for S&R": "IPAdapterAdvanced"
      },
      "widgets_values": [
        2.5,
        "ease in-out",
        "concat",
        0,
        1,
        "V only"
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 156,
      "type": "IPAdapterAdvanced",
      "pos": {
        "0": 920,
        "1": -750
      },
      "size": {
        "0": 210,
        "1": 278
      },
      "flags": {},
      "order": 39,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 377,
          "label": "模型"
        },
        {
          "name": "ipadapter",
          "type": "IPADAPTER",
          "link": 373,
          "label": "IPAdapter"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 560,
          "label": "正面图像"
        },
        {
          "name": "image_negative",
          "type": "IMAGE",
          "link": null,
          "slot_index": 3,
          "label": "负面图像"
        },
        {
          "name": "attn_mask",
          "type": "MASK",
          "link": 380,
          "label": "关注层遮罩"
        },
        {
          "name": "clip_vision",
          "type": "CLIP_VISION",
          "link": null,
          "label": "CLIP视觉"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            482
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "模型"
        }
      ],
      "properties": {
        "Node name for S&R": "IPAdapterAdvanced"
      },
      "widgets_values": [
        1.1500000000000001,
        "ease in-out",
        "concat",
        0,
        1,
        "V only"
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 104,
      "type": "IPAdapterUnifiedLoader",
      "pos": {
        "0": 910,
        "1": -900
      },
      "size": {
        "0": 210,
        "1": 78
      },
      "flags": {
        "collapsed": false
      },
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 369,
          "label": "模型"
        },
        {
          "name": "ipadapter",
          "type": "IPADAPTER",
          "link": null,
          "label": "IPAdapter"
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "MODEL",
          "links": [
            256
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "模型"
        },
        {
          "name": "ipadapter",
          "type": "IPADAPTER",
          "links": [
            257,
            373
          ],
          "slot_index": 1,
          "shape": 3,
          "label": "IPAdapter"
        }
      ],
      "properties": {
        "Node name for S&R": "IPAdapterUnifiedLoader"
      },
      "widgets_values": [
        "PLUS (high strength)"
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 64,
      "type": "Efficient Loader",
      "pos": {
        "0": 690,
        "1": 290
      },
      "size": {
        "0": 340,
        "1": 668
      },
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "lora_stack",
          "type": "LORA_STACK",
          "link": 660,
          "slot_index": 0,
          "label": "LoRA堆"
        },
        {
          "name": "cnet_stack",
          "type": "CONTROL_NET_STACK",
          "link": null,
          "label": "ControlNet堆"
        },
        {
          "name": "batch_size",
          "type": "INT",
          "link": 360,
          "widget": {
            "name": "batch_size"
          },
          "label": "批次大小"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            369
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "模型"
        },
        {
          "name": "CONDITIONING+",
          "type": "CONDITIONING",
          "links": [
            426,
            562
          ],
          "slot_index": 1,
          "shape": 3,
          "label": "正面条件"
        },
        {
          "name": "CONDITIONING-",
          "type": "CONDITIONING",
          "links": [
            268,
            563
          ],
          "slot_index": 2,
          "shape": 3,
          "label": "负面条件"
        },
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [],
          "slot_index": 3,
          "shape": 3,
          "label": "Latent"
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            173,
            211
          ],
          "slot_index": 4,
          "shape": 3,
          "label": "VAE"
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [],
          "slot_index": 5,
          "shape": 3,
          "label": "CLIP"
        },
        {
          "name": "DEPENDENCIES",
          "type": "DEPENDENCIES",
          "links": null,
          "shape": 3,
          "label": "依赖"
        }
      ],
      "properties": {
        "Node name for S&R": "Efficient Loader"
      },
      "widgets_values": [
        "dreamshaper_8LCM.safetensors",
        "vae-ft-mse-840000-ema-pruned.safetensors",
        -2,
        "动漫Ghibli - Spirited Away - Chihiro Ogino_v1.1.safetensors",
        0.5,
        0.5,
        "red maple leaf，leaf,rain,downpour,The autumn forest,autumn,backlight, clear edges,epiCPhoto,best quality,masterpiece,raining,(realistic),HDR,UHD,8K,(extremely detailed),light particles,hard light, (photography:1.3), Large aperture, blur the background,The forest in the rain,",
        "oversaturated, [deformed | disfigured], poorly drawn, [bad : wrong] anatomy, [extra | missing | floating | disconnected] limb, (mutated hands and fingers), blurry, text, watermark,",
        "none",
        "comfy",
        320,
        640,
        32,
        true,
        true
      ],
      "color": "#223322",
      "bgcolor": "#553355",
      "shape": 1,
      "category": "Custom Nodes"
    },
    {
      "id": 346,
      "type": "Note",
      "pos": {
        "0": 2020,
        "1": -310
      },
      "size": {
        "0": 300,
        "1": 120
      },
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "aidma-RUN-Motion-Lora\n下载地址：https://huggingface.co/lmbjzs/aidma-RUN-Motion-Lora/blob/main/aidma-RUN-Motion%20Lora.safetensors#:~:text=Upload%20aidma-RUN-Motion%20Lora.safetensors.%20a970bdb%20verified%20about%202%20months"
      ],
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 200,
      "type": "ColorModPivot",
      "pos": {
        "0": 208,
        "1": 691
      },
      "size": {
        "0": 315,
        "1": 198
      },
      "flags": {
        "collapsed": true
      },
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 455,
          "label": "image"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            457,
            468
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "IMAGE"
        }
      ],
      "properties": {
        "Node name for S&R": "ColorModPivot"
      },
      "widgets_values": [
        0.8,
        -0.55,
        true,
        null
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 201,
      "type": "ColorModEdges",
      "pos": {
        "0": 207,
        "1": 781
      },
      "size": {
        "0": 315,
        "1": 222
      },
      "flags": {
        "collapsed": true
      },
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 456,
          "slot_index": 0,
          "label": "image"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            455
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "IMAGE"
        }
      ],
      "properties": {
        "Node name for S&R": "ColorModEdges"
      },
      "widgets_values": [
        2,
        0,
        2,
        true,
        null
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 102,
      "type": "LoadImage",
      "pos": {
        "0": 910,
        "1": -160
      },
      "size": {
        "0": 210,
        "1": 314
      },
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            559
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "图像"
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "枫叶背景.jpg",
        "image"
      ],
      "category": "Primitive Nodes"
    },
    {
      "id": 225,
      "type": "ImageToMask",
      "pos": {
        "0": 1907.616455078125,
        "1": 1224.2626953125
      },
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 490,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            491
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageToMask"
      },
      "widgets_values": [
        "green"
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 226,
      "type": "InvertMask",
      "pos": {
        "0": 1907.616455078125,
        "1": 1369.2626953125
      },
      "size": {
        "0": 204.574462890625,
        "1": 26
      },
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 491,
          "label": "遮罩"
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            493
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "InvertMask"
      },
      "category": "Custom Nodes"
    },
    {
      "id": 224,
      "type": "ImageResize+",
      "pos": {
        "0": 1785.616455078125,
        "1": 1232.2626953125
      },
      "size": {
        "0": 210,
        "1": 218
      },
      "flags": {
        "collapsed": true
      },
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 496,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            490
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "图像"
        },
        {
          "name": "width",
          "type": "INT",
          "links": null,
          "shape": 3,
          "label": "宽度"
        },
        {
          "name": "height",
          "type": "INT",
          "links": null,
          "shape": 3,
          "label": "高度"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageResize+"
      },
      "widgets_values": [
        288,
        512,
        "nearest",
        "stretch",
        "always",
        0
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 301,
      "type": "easy loraStack",
      "pos": {
        "0": 224,
        "1": 214
      },
      "size": [
        290.91224648108266,
        178
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "optional_lora_stack",
          "type": "LORA_STACK",
          "link": null,
          "label": "LoRA堆（可选）"
        }
      ],
      "outputs": [
        {
          "name": "lora_stack",
          "type": "LORA_STACK",
          "links": [
            660
          ],
          "shape": 3,
          "label": "LoRA堆"
        }
      ],
      "properties": {
        "Node name for S&R": "easy loraStack"
      },
      "widgets_values": [
        true,
        "advanced",
        1,
        "add_detail.safetensors",
        1,
        1,
        0.6,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 345,
      "type": "CR Image Input Switch (4 way)",
      "pos": {
        "0": 3608,
        "1": 584
      },
      "size": {
        "0": 315,
        "1": 118
      },
      "flags": {},
      "order": 52,
      "mode": 0,
      "inputs": [
        {
          "name": "image1",
          "type": "IMAGE",
          "link": 727,
          "label": "图像1"
        },
        {
          "name": "image2",
          "type": "IMAGE",
          "link": 728,
          "label": "图像2"
        },
        {
          "name": "image3",
          "type": "IMAGE",
          "link": 729,
          "label": "图像3"
        },
        {
          "name": "image4",
          "type": "IMAGE",
          "link": null,
          "label": "图像4"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            730
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "图像"
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null,
          "shape": 3,
          "label": "show_help"
        }
      ],
      "properties": {
        "Node name for S&R": "CR Image Input Switch (4 way)"
      },
      "widgets_values": [
        3
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 336,
      "type": "UpscaleModelLoader",
      "pos": {
        "0": 3605.45263671875,
        "1": 275.45245361328125
      },
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "UPSCALE_MODEL",
          "type": "UPSCALE_MODEL",
          "links": [
            724
          ],
          "shape": 3,
          "label": "放大模型"
        }
      ],
      "properties": {
        "Node name for S&R": "UpscaleModelLoader"
      },
      "widgets_values": [
        "RealESRGAN_x4plus_anime_6B.pth"
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 88,
      "type": "VAEEncode",
      "pos": {
        "0": 1938,
        "1": 383
      },
      "size": {
        "0": 230.7856903076172,
        "1": 46
      },
      "flags": {
        "collapsed": false
      },
      "order": 47,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 346,
          "label": "图像"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 234,
          "label": "VAE"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            235
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "Latent"
        }
      ],
      "properties": {
        "Node name for S&R": "VAEEncode"
      },
      "category": "Primitive Nodes"
    },
    {
      "id": 227,
      "type": "ImageCompositeMasked",
      "pos": {
        "0": 1929,
        "1": 1480
      },
      "size": {
        "0": 210,
        "1": 146
      },
      "flags": {},
      "order": 43,
      "mode": 0,
      "inputs": [
        {
          "name": "destination",
          "type": "IMAGE",
          "link": 494,
          "label": "目标图像"
        },
        {
          "name": "source",
          "type": "IMAGE",
          "link": 492,
          "label": "源图像"
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 493,
          "label": "遮罩"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            621,
            644,
            704,
            728
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageCompositeMasked"
      },
      "widgets_values": [
        0,
        0,
        false
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 223,
      "type": "ImageResize+",
      "pos": {
        "0": 1788,
        "1": 1543
      },
      "size": {
        "0": 210,
        "1": 218
      },
      "flags": {
        "collapsed": true
      },
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 488,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            492
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "图像"
        },
        {
          "name": "width",
          "type": "INT",
          "links": [],
          "slot_index": 1,
          "shape": 3,
          "label": "宽度"
        },
        {
          "name": "height",
          "type": "INT",
          "links": [],
          "slot_index": 2,
          "shape": 3,
          "label": "高度"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageResize+"
      },
      "widgets_values": [
        288,
        512,
        "nearest",
        "stretch",
        "always",
        0
      ],
      "category": "Custom Nodes"
    },
    {
      "id": 228,
      "type": "VHS_VideoCombine",
      "pos": {
        "0": 2757,
        "1": 264
      },
      "size": [
        280,
        786.2222222222222
      ],
      "flags": {},
      "order": 44,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 621,
          "label": "图像"
        },
        {
          "name": "audio",
          "type": "VHS_AUDIO",
          "link": null,
          "slot_index": 1,
          "label": "音频"
        },
        {
          "name": "meta_batch",
          "type": "VHS_BatchManager",
          "link": null,
          "label": "批次管理"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": null,
          "label": "vae"
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null,
          "shape": 3,
          "label": "文件名"
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 15,
        "loop_count": 0,
        "filename_prefix": "%date:yyyy-MM-dd%/previews/AD",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 5,
        "save_metadata": true,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "AD_00015.mp4",
            "subfolder": "2024-09-30/previews",
            "type": "output",
            "format": "video/h264-mp4",
            "frame_rate": 15
          }
        }
      },
      "color": "#222",
      "bgcolor": "#000",
      "category": "Custom Nodes"
    },
    {
      "id": 347,
      "type": "Note",
      "pos": {
        "0": 2010,
        "1": -50
      },
      "size": [
        303.165605641444,
        90.86522776153953
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "AnimateLCM_sd15_t2v.ckpt\n下载地址\nhttps://huggingface.co/wangfuyun/AnimateLCM/blob/main/AnimateLCM_sd15_t2v.ckpt#:~:text=Pointer%20size:%20135%20Bytes.%20Size%20of%20remote%20file:"
      ],
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 338,
      "type": "Note",
      "pos": {
        "0": 2200,
        "1": 1167
      },
      "size": {
        "0": 210,
        "1": 60
      },
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "这里是背景图片，如果想自己指定背景就打开这里分组上传"
      ],
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 157,
      "type": "LoadImage",
      "pos": {
        "0": 660,
        "1": -160
      },
      "size": {
        "0": 211.97695922851562,
        "1": 314
      },
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            557
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "图像"
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "枫叶.jpg",
        "image"
      ],
      "category": "Primitive Nodes"
    },
    {
      "id": 148,
      "type": "VHS_VideoCombine",
      "pos": {
        "0": 3128,
        "1": 270
      },
      "size": [
        290,
        804
      ],
      "flags": {},
      "order": 51,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 356,
          "label": "图像"
        },
        {
          "name": "audio",
          "type": "VHS_AUDIO",
          "link": null,
          "label": "音频"
        },
        {
          "name": "meta_batch",
          "type": "VHS_BatchManager",
          "link": null,
          "label": "批次管理"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": null,
          "label": "vae"
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null,
          "shape": 3,
          "label": "文件名"
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 15,
        "loop_count": 0,
        "filename_prefix": "%date:yyyy-MM-dd%/upscaled/%date:MM-dd%",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "09-30_00010.gif",
            "subfolder": "2024-09-30/upscaled",
            "type": "output",
            "format": "image/gif",
            "frame_rate": 15
          }
        }
      },
      "color": "#222",
      "bgcolor": "#000",
      "category": "Custom Nodes"
    },
    {
      "id": 117,
      "type": "VHS_LoadVideo",
      "pos": {
        "0": 203,
        "1": 853
      },
      "size": [
        280,
        738.2222222222222
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "meta_batch",
          "type": "VHS_BatchManager",
          "link": null,
          "label": "批次管理"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": null,
          "label": "vae"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            456,
            496,
            702
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "图像"
        },
        {
          "name": "frame_count",
          "type": "INT",
          "links": [
            344,
            360
          ],
          "slot_index": 1,
          "shape": 3,
          "label": "帧计数"
        },
        {
          "name": "audio",
          "type": "VHS_AUDIO",
          "links": null,
          "shape": 3,
          "label": "音频"
        },
        {
          "name": "video_info",
          "type": "VHS_VIDEOINFO",
          "links": null,
          "shape": 3,
          "label": "视频信息"
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_LoadVideo"
      },
      "widgets_values": {
        "video": "跳舞遮罩.mp4",
        "force_rate": 0,
        "force_size": "Disabled",
        "custom_width": 512,
        "custom_height": 512,
        "frame_load_cap": 108,
        "skip_first_frames": 0,
        "select_every_nth": 1,
        "choose video to upload": "image",
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "frame_load_cap": 108,
            "skip_first_frames": 0,
            "force_rate": 0,
            "filename": "跳舞遮罩.mp4",
            "type": "input",
            "format": "video/mp4",
            "select_every_nth": 1
          }
        }
      },
      "category": "Custom Nodes"
    },
    {
      "id": 222,
      "type": "LoadImage",
      "pos": {
        "0": 1557,
        "1": 1235
      },
      "size": [
        284.7947569161622,
        355.72000813989507
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            488
          ],
          "slot_index": 0,
          "shape": 3,
          "label": "图像"
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "底座.png",
        "image"
      ],
      "category": "Primitive Nodes"
    },
    {
      "id": 147,
      "type": "VHS_VideoCombine",
      "pos": {
        "0": 2417.10498046875,
        "1": 280
      },
      "size": [
        280,
        786.2222222222222
      ],
      "flags": {},
      "order": 42,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 355,
          "label": "图像"
        },
        {
          "name": "audio",
          "type": "VHS_AUDIO",
          "link": null,
          "slot_index": 1,
          "label": "音频"
        },
        {
          "name": "meta_batch",
          "type": "VHS_BatchManager",
          "link": null,
          "label": "批次管理"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": null,
          "label": "vae"
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null,
          "shape": 3,
          "label": "文件名"
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 15,
        "loop_count": 0,
        "filename_prefix": "%date:yyyy-MM-dd%/previews/AD",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "AD_00014.gif",
            "subfolder": "2024-09-30/previews",
            "type": "output",
            "format": "image/gif",
            "frame_rate": 15
          }
        }
      },
      "color": "#222",
      "bgcolor": "#000",
      "category": "Custom Nodes"
    },
    {
      "id": 337,
      "type": "VHS_VideoCombine",
      "pos": {
        "0": 4049,
        "1": 256
      },
      "size": [
        283.33919039261673,
        792.1585606979853
      ],
      "flags": {},
      "order": 54,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 726,
          "label": "图像"
        },
        {
          "name": "audio",
          "type": "VHS_AUDIO",
          "link": null,
          "label": "音频"
        },
        {
          "name": "meta_batch",
          "type": "VHS_BatchManager",
          "link": null,
          "label": "批次管理"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": null,
          "label": "vae"
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null,
          "shape": 3,
          "label": "文件名"
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 15,
        "loop_count": 0,
        "filename_prefix": "%date:yyyy-MM-dd%/upscaled/%date:MM-dd%",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "09-30_00005.gif",
            "subfolder": "2024-09-30/upscaled",
            "type": "output",
            "format": "image/gif",
            "frame_rate": 15
          }
        }
      },
      "color": "#222",
      "bgcolor": "#000",
      "category": "Custom Nodes"
    },
    {
      "id": 348,
      "type": "Note",
      "pos": {
        "0": -144,
        "1": 1465
      },
      "size": [
        282.68037745498077,
        145.32987853936174
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "这里上传舞蹈遮罩图\n这里有本次工作流的遮罩参考视频及图片参考\n通过百度网盘分享的文件：枫叶跳舞素材参考\n链接：https://pan.baidu.com/s/1PzVQ8Z5JT8FvVtpCyk5miw?pwd=1111 \n提取码：1111\n有问题可以LIBLIB搜索ricciimagine的工作流下评论咨询，我看到都会回复"
      ],
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    }
  ],
  "links": [
    [
      173,
      64,
      4,
      69,
      4,
      "VAE"
    ],
    [
      211,
      64,
      4,
      82,
      4,
      "VAE"
    ],
    [
      212,
      69,
      0,
      82,
      0,
      "MODEL"
    ],
    [
      217,
      84,
      0,
      69,
      6,
      "INT"
    ],
    [
      218,
      84,
      0,
      82,
      6,
      "INT"
    ],
    [
      234,
      69,
      4,
      88,
      1,
      "VAE"
    ],
    [
      235,
      88,
      0,
      82,
      3,
      "LATENT"
    ],
    [
      256,
      104,
      0,
      105,
      0,
      "MODEL"
    ],
    [
      257,
      104,
      1,
      105,
      1,
      "IPADAPTER"
    ],
    [
      268,
      64,
      2,
      110,
      1,
      "CONDITIONING"
    ],
    [
      270,
      110,
      1,
      69,
      2,
      "CONDITIONING"
    ],
    [
      344,
      117,
      1,
      145,
      0,
      "INT"
    ],
    [
      346,
      146,
      0,
      88,
      0,
      "IMAGE"
    ],
    [
      355,
      69,
      5,
      147,
      0,
      "IMAGE"
    ],
    [
      356,
      82,
      5,
      148,
      0,
      "IMAGE"
    ],
    [
      360,
      117,
      1,
      64,
      2,
      "INT"
    ],
    [
      369,
      64,
      0,
      104,
      0,
      "MODEL"
    ],
    [
      373,
      104,
      1,
      156,
      1,
      "IPADAPTER"
    ],
    [
      377,
      105,
      0,
      156,
      0,
      "MODEL"
    ],
    [
      379,
      123,
      0,
      158,
      0,
      "MASK"
    ],
    [
      380,
      158,
      0,
      156,
      4,
      "MASK"
    ],
    [
      426,
      64,
      1,
      110,
      0,
      "CONDITIONING"
    ],
    [
      430,
      110,
      0,
      69,
      1,
      "CONDITIONING"
    ],
    [
      452,
      123,
      0,
      105,
      4,
      "MASK"
    ],
    [
      455,
      201,
      0,
      200,
      0,
      "IMAGE"
    ],
    [
      456,
      117,
      0,
      201,
      0,
      "IMAGE"
    ],
    [
      457,
      200,
      0,
      123,
      0,
      "IMAGE"
    ],
    [
      465,
      207,
      0,
      206,
      2,
      "CONTROL_NET_STACK"
    ],
    [
      466,
      208,
      0,
      207,
      0,
      "CONTROL_NET"
    ],
    [
      468,
      200,
      0,
      206,
      1,
      "IMAGE"
    ],
    [
      469,
      112,
      0,
      206,
      0,
      "CONTROL_NET"
    ],
    [
      471,
      206,
      0,
      110,
      2,
      "CONTROL_NET_STACK"
    ],
    [
      476,
      215,
      0,
      214,
      1,
      "M_MODELS"
    ],
    [
      477,
      217,
      0,
      214,
      2,
      "CONTEXT_OPTIONS"
    ],
    [
      478,
      219,
      0,
      214,
      3,
      "SAMPLE_SETTINGS"
    ],
    [
      479,
      216,
      0,
      215,
      0,
      "MOTION_MODEL_ADE"
    ],
    [
      480,
      220,
      0,
      215,
      1,
      "MOTION_LORA"
    ],
    [
      481,
      218,
      0,
      215,
      2,
      "MULTIVAL"
    ],
    [
      482,
      156,
      0,
      214,
      0,
      "MODEL"
    ],
    [
      483,
      214,
      0,
      69,
      0,
      "MODEL"
    ],
    [
      488,
      222,
      0,
      223,
      0,
      "IMAGE"
    ],
    [
      490,
      224,
      0,
      225,
      0,
      "IMAGE"
    ],
    [
      491,
      225,
      0,
      226,
      0,
      "MASK"
    ],
    [
      492,
      223,
      0,
      227,
      1,
      "IMAGE"
    ],
    [
      493,
      226,
      0,
      227,
      2,
      "MASK"
    ],
    [
      494,
      69,
      5,
      227,
      0,
      "IMAGE"
    ],
    [
      496,
      117,
      0,
      224,
      0,
      "IMAGE"
    ],
    [
      554,
      145,
      0,
      69,
      3,
      "LATENT"
    ],
    [
      557,
      157,
      0,
      259,
      0,
      "IMAGE"
    ],
    [
      558,
      259,
      0,
      105,
      2,
      "IMAGE"
    ],
    [
      559,
      102,
      0,
      260,
      0,
      "IMAGE"
    ],
    [
      560,
      260,
      0,
      156,
      2,
      "IMAGE"
    ],
    [
      562,
      64,
      1,
      262,
      0,
      "CONDITIONING"
    ],
    [
      563,
      64,
      2,
      262,
      1,
      "CONDITIONING"
    ],
    [
      564,
      262,
      0,
      82,
      1,
      "CONDITIONING"
    ],
    [
      565,
      262,
      1,
      82,
      2,
      "CONDITIONING"
    ],
    [
      566,
      265,
      0,
      267,
      0,
      "CONTROL_NET"
    ],
    [
      570,
      267,
      0,
      262,
      2,
      "CONTROL_NET_STACK"
    ],
    [
      621,
      227,
      0,
      228,
      0,
      "IMAGE"
    ],
    [
      644,
      227,
      0,
      146,
      0,
      "IMAGE"
    ],
    [
      660,
      301,
      0,
      64,
      0,
      "LORA_STACK"
    ],
    [
      699,
      323,
      0,
      207,
      1,
      "IMAGE"
    ],
    [
      702,
      117,
      0,
      323,
      0,
      "IMAGE"
    ],
    [
      704,
      227,
      0,
      329,
      0,
      "IMAGE"
    ],
    [
      706,
      329,
      0,
      267,
      1,
      "IMAGE"
    ],
    [
      724,
      336,
      0,
      335,
      0,
      "UPSCALE_MODEL"
    ],
    [
      726,
      335,
      0,
      337,
      0,
      "IMAGE"
    ],
    [
      727,
      69,
      5,
      345,
      0,
      "IMAGE"
    ],
    [
      728,
      227,
      0,
      345,
      1,
      "IMAGE"
    ],
    [
      729,
      82,
      5,
      345,
      2,
      "IMAGE"
    ],
    [
      730,
      345,
      0,
      335,
      1,
      "IMAGE"
    ]
  ],
  "groups": [
    {
      "title": "最终放大",
      "bounding": [
        3562,
        160,
        883,
        913
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "title": "AnimateDiff_1.5",
      "bounding": [
        1232,
        -700,
        719,
        815
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "title": "输出: 1：首次预览 -> 指定背景重合 ->二次重绘放大",
      "bounding": [
        2371,
        152,
        1102,
        910
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "title": "SD1.5_Upscale",
      "bounding": [
        1907,
        150,
        341,
        838
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "title": "Loader",
      "bounding": [
        631,
        162,
        773,
        842
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "title": "IPAdapter",
      "bounding": [
        624,
        -987,
        516,
        1117
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "title": "Controlnet",
      "bounding": [
        638,
        1109,
        746,
        275
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "title": "Replace_bg",
      "bounding": [
        1537,
        1121,
        622,
        540
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "title": "Video Upload",
      "bounding": [
        173,
        449,
        343,
        1184
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "title": "Controlnet",
      "bounding": [
        633,
        1422,
        753,
        385
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "title": "Preview",
      "bounding": [
        1539,
        160,
        285,
        844
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "title": "Depth_Controlnet",
      "bounding": [
        639,
        1836,
        751,
        346
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.2540132685242104,
      "offset": [
        1624.9150748119994,
        127.42235605119578
      ]
    },
    "groupNodes": {}
  },
  "version": 0.4
}