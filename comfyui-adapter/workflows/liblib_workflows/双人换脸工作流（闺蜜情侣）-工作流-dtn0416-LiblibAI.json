{"last_node_id":65,"last_link_id":110,"nodes":[{"id":8,"type":"VAEDecode","pos":[2520,-500],"size":{"0":210,"1":46},"flags":{},"order":30,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":7,"label":"Latent"},{"name":"vae","type":"VAE","link":8,"label":"VAE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[9,45],"slot_index":0,"label":"图像"}],"properties":{"Node name for S&R":"VAEDecode","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":27,"type":"VAEEncode","pos":[1910,-160],"size":{"0":210,"1":46},"flags":{},"order":27,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":31,"label":"图像"},{"name":"vae","type":"VAE","link":33,"label":"VAE"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[28],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"VAEEncode","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":17,"type":"Mask Crop Region","pos":[1075.0955928794451,-1275.8087131369396],"size":{"0":315,"1":222},"flags":{},"order":21,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":16,"label":"遮罩"}],"outputs":[{"name":"cropped_mask","type":"MASK","links":[17,53],"shape":3,"label":"遮罩","slot_index":0},{"name":"crop_data","type":"CROP_DATA","links":null,"shape":3,"label":"裁剪数据"},{"name":"top_int","type":"INT","links":[21,52],"shape":3,"label":"上","slot_index":2},{"name":"left_int","type":"INT","links":[20,51],"shape":3,"label":"左","slot_index":3},{"name":"right_int","type":"INT","links":null,"shape":3,"label":"右"},{"name":"bottom_int","type":"INT","links":null,"shape":3,"label":"下"},{"name":"width_int","type":"INT","links":[18,48],"shape":3,"label":"宽度","slot_index":6},{"name":"height_int","type":"INT","links":[19,49],"shape":3,"label":"高度","slot_index":7}],"properties":{"Node name for S&R":"Mask Crop Region","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[24,"dominant"],"color":"rgba(0,0,0,.8)","serialize_values":[null,null]},{"id":18,"type":"MaskPreview+","pos":[1431.0955928794451,-1318.8087131369396],"size":{"0":334.0690002441406,"1":257.4228210449219},"flags":{},"order":22,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":17,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"MaskPreview+","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":20,"type":"ImageCrop","pos":[1795.0955928794451,-1230.8087131369398],"size":{"0":315,"1":130},"flags":{},"order":24,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":22,"label":"图像"},{"name":"width","type":"INT","link":18,"widget":{"name":"width"},"label":"宽度"},{"name":"height","type":"INT","link":19,"widget":{"name":"height"},"slot_index":2,"label":"高度"},{"name":"x","type":"INT","link":20,"widget":{"name":"x"},"label":"X"},{"name":"y","type":"INT","link":21,"widget":{"name":"y"},"label":"Y"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[26,27],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"ImageCrop","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[512,512,0,0],"color":"rgba(0,0,0,.8)","serialize_values":[null,null,null,null]},{"id":25,"type":"ImageResize+","pos":[2186.0955928794447,-1276.8087131369396],"size":{"0":315,"1":218},"flags":{},"order":26,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":27,"label":"图像","slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[31,44],"shape":3,"label":"图像","slot_index":0},{"name":"width","type":"INT","links":null,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":null,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"ImageResize+","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[1024,1024,"nearest",true,"always",0],"color":"rgba(0,0,0,.8)","serialize_values":[null,null,null,null,null,null]},{"id":24,"type":"PreviewImage","pos":[2551.0955928794447,-1327.8087131369396],"size":{"0":263.9171142578125,"1":257.2112731933594},"flags":{},"order":25,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":26,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":12,"type":"ESAM_ModelLoader_Zho","pos":[281.93005486858584,-658.5577023010825],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":0,"mode":0,"outputs":[{"name":"esam_model","type":"ESAMMODEL","links":[11],"shape":3,"label":"esam_model"}],"properties":{"Node name for S&R":"ESAM_ModelLoader_Zho","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["CUDA"],"color":"rgba(0,0,0,.8)","serialize_values":[null]},{"id":10,"type":"Yoloworld_ModelLoader_Zho","pos":[290.93005486858584,-701.5577023010825],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":1,"mode":0,"outputs":[{"name":"yolo_world_model","type":"YOLOWORLDMODEL","links":[10],"shape":3,"label":"yolo_world_model","slot_index":0}],"properties":{"Node name for S&R":"Yoloworld_ModelLoader_Zho","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["yolo_world/l"],"color":"rgba(0,0,0,.8)","serialize_values":[null]},{"id":14,"type":"PreviewImage","pos":[573.9300548685857,-794.5577023010825],"size":{"0":347.22979736328125,"1":308.2986145019531},"flags":{},"order":19,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":13,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":16,"type":"MaskPreview+","pos":[577.9300548685857,-423.55770230108243],"size":{"0":334.0690002441406,"1":257.4228210449219},"flags":{},"order":20,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":15,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"MaskPreview+","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":30,"type":"InstantIDFaceAnalysis","pos":[371.29793692495196,98.58522076515493],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":2,"mode":0,"outputs":[{"name":"FACEANALYSIS","type":"FACEANALYSIS","links":[35],"shape":3,"label":"面部分析"}],"properties":{"Node name for S&R":"InstantIDFaceAnalysis","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["CPU"],"color":"rgba(0,0,0,.8)","serialize_values":[null]},{"id":29,"type":"InstantIDModelLoader","pos":[383.29793692495196,63.58522076515491],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":3,"mode":0,"outputs":[{"name":"INSTANTID","type":"INSTANTID","links":[34],"shape":3,"label":"INSTANTID"}],"properties":{"Node name for S&R":"InstantIDModelLoader","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["ip-adapter.bin"],"color":"rgba(0,0,0,.8)","serialize_values":[null]},{"id":34,"type":"ImageResize+","pos":[3140,-824],"size":{"0":315,"1":218},"flags":{},"order":32,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":45,"label":"图像","slot_index":0},{"name":"width","type":"INT","link":48,"widget":{"name":"width"},"label":"宽度"},{"name":"height","type":"INT","link":49,"widget":{"name":"height"},"label":"高度"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[46],"shape":3,"label":"图像","slot_index":0},{"name":"width","type":"INT","links":null,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":null,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"ImageResize+","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[512,512,"nearest",true,"always",0],"color":"rgba(0,0,0,.8)","serialize_values":[null,null,null,null,null,null]},{"id":35,"type":"LayerMask: MaskGrow","pos":[2716,-796],"size":{"0":315,"1":106},"flags":{},"order":23,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":53,"label":"遮罩","slot_index":0}],"outputs":[{"name":"mask","type":"MASK","links":[54],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"LayerMask: MaskGrow","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[false,4,4],"color":"rgba(0,0,0,.8)","serialize_values":[null,null,null]},{"id":9,"type":"SaveImage","pos":[2545,-409],"size":{"0":451.87286376953125,"1":278.474365234375},"flags":{},"order":31,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":9,"label":"图像"}],"properties":{"Node name for S&R":"SaveImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["ComfyUI"],"color":"rgba(0,0,0,.8)","serialize_values":["ComfyUI"]},{"id":37,"type":"KSampler","pos":[6910,-670],"size":{"0":315,"1":474},"flags":{},"order":47,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":56,"label":"模型"},{"name":"positive","type":"CONDITIONING","link":57,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":58,"label":"负面条件"},{"name":"latent_image","type":"LATENT","link":59,"label":"Latent"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[62],"slot_index":0,"label":"Latent"}],"properties":{"Node name for S&R":"KSampler","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[773499907894719,"randomize",8,2,"dpmpp_sde","karras",0.6],"color":"rgba(0,0,0,.8)","serialize_values":[null,null,null,null,null,null,null]},{"id":40,"type":"CLIPTextEncode","pos":[6090,-470],"size":{"0":425.27801513671875,"1":180.6060791015625},"flags":{},"order":17,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":100,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[87],"slot_index":0,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncode","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["text, watermark,embedding:JuggernautNegative-neg, "],"color":"rgba(0,0,0,.8)","serialize_values":["text, watermark,embedding:JuggernautNegative-neg, "]},{"id":42,"type":"SaveImage","pos":[7290,-580],"size":{"0":451.87286376953125,"1":278.474365234375},"flags":{},"order":49,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":64,"label":"图像"}],"properties":{"Node name for S&R":"SaveImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["ComfyUI"],"color":"rgba(0,0,0,.8)","serialize_values":["ComfyUI"]},{"id":43,"type":"Yoloworld_ModelLoader_Zho","pos":[5030,-880],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":4,"mode":0,"outputs":[{"name":"yolo_world_model","type":"YOLOWORLDMODEL","links":[65],"shape":3,"label":"yolo_world_model","slot_index":0}],"properties":{"Node name for S&R":"Yoloworld_ModelLoader_Zho","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["yolo_world/l"],"color":"rgba(0,0,0,.8)","serialize_values":[null]},{"id":45,"type":"ESAM_ModelLoader_Zho","pos":[5020,-830],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":5,"mode":0,"outputs":[{"name":"esam_model","type":"ESAMMODEL","links":[66],"shape":3,"label":"esam_model"}],"properties":{"Node name for S&R":"ESAM_ModelLoader_Zho","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["CUDA"],"color":"rgba(0,0,0,.8)","serialize_values":[null]},{"id":47,"type":"PreviewImage","pos":[5310,-970],"size":{"0":347.22979736328125,"1":308.2986145019531},"flags":{},"order":37,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":68,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":48,"type":"MaskPreview+","pos":[5320,-600],"size":{"0":334.0690002441406,"1":257.4228210449219},"flags":{},"order":38,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":69,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"MaskPreview+","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":49,"type":"Mask Crop Region","pos":[5820,-1450],"size":{"0":315,"1":222},"flags":{},"order":39,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":70,"label":"遮罩"}],"outputs":[{"name":"cropped_mask","type":"MASK","links":[71,97],"shape":3,"label":"遮罩","slot_index":0},{"name":"crop_data","type":"CROP_DATA","links":null,"shape":3,"label":"裁剪数据"},{"name":"top_int","type":"INT","links":[76,93],"shape":3,"label":"上","slot_index":2},{"name":"left_int","type":"INT","links":[75,92],"shape":3,"label":"左","slot_index":3},{"name":"right_int","type":"INT","links":null,"shape":3,"label":"右"},{"name":"bottom_int","type":"INT","links":null,"shape":3,"label":"下"},{"name":"width_int","type":"INT","links":[73,95],"shape":3,"label":"宽度","slot_index":6},{"name":"height_int","type":"INT","links":[74,96],"shape":3,"label":"高度","slot_index":7}],"properties":{"Node name for S&R":"Mask Crop Region","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[24,"dominant"],"color":"rgba(0,0,0,.8)","serialize_values":[null,null]},{"id":50,"type":"MaskPreview+","pos":[6170,-1490],"size":{"0":334.0690002441406,"1":257.4228210449219},"flags":{},"order":40,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":71,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"MaskPreview+","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":52,"type":"PreviewImage","pos":[7290,-1500],"size":{"0":263.9171142578125,"1":257.2112731933594},"flags":{},"order":43,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":77,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":53,"type":"ImageResize+","pos":[6930,-1450],"size":{"0":315,"1":218},"flags":{},"order":44,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":78,"label":"图像","slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[79,88],"shape":3,"label":"图像","slot_index":0},{"name":"width","type":"INT","links":null,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":null,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"ImageResize+","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[1024,1024,"nearest",true,"always",0],"color":"rgba(0,0,0,.8)","serialize_values":[null,null,null,null,null,null]},{"id":54,"type":"VAEEncode","pos":[6650,-330],"size":{"0":210,"1":46},"flags":{},"order":45,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":79,"label":"图像"},{"name":"vae","type":"VAE","link":101,"label":"VAE"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[59],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"VAEEncode","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":55,"type":"ApplyInstantID","pos":[5320,-120],"size":{"0":315,"1":266},"flags":{},"order":46,"mode":0,"inputs":[{"name":"instantid","type":"INSTANTID","link":81,"label":"InstantID","slot_index":0},{"name":"insightface","type":"FACEANALYSIS","link":82,"label":"InsightFace","slot_index":1},{"name":"control_net","type":"CONTROL_NET","link":83,"label":"ControlNet","slot_index":2},{"name":"image","type":"IMAGE","link":84,"label":"图像"},{"name":"model","type":"MODEL","link":103,"label":"模型","slot_index":4},{"name":"positive","type":"CONDITIONING","link":86,"label":"正面条件","slot_index":5},{"name":"negative","type":"CONDITIONING","link":87,"label":"负面条件","slot_index":6},{"name":"image_kps","type":"IMAGE","link":88,"label":"图像_kps"},{"name":"mask","type":"MASK","link":null,"label":"遮罩"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[56],"shape":3,"label":"模型","slot_index":0},{"name":"positive","type":"CONDITIONING","links":[57],"shape":3,"label":"正面条件","slot_index":1},{"name":"negative","type":"CONDITIONING","links":[58],"shape":3,"label":"负面条件","slot_index":2}],"properties":{"Node name for S&R":"ApplyInstantID","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[0.8,0,1],"color":"rgba(0,0,0,.8)","serialize_values":[null,null,null]},{"id":56,"type":"InstantIDModelLoader","pos":[5120,-110],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":6,"mode":0,"outputs":[{"name":"INSTANTID","type":"INSTANTID","links":[81],"shape":3,"label":"INSTANTID"}],"properties":{"Node name for S&R":"InstantIDModelLoader","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["ip-adapter.bin"],"color":"rgba(0,0,0,.8)","serialize_values":[null]},{"id":57,"type":"InstantIDFaceAnalysis","pos":[5110,-80],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":7,"mode":0,"outputs":[{"name":"FACEANALYSIS","type":"FACEANALYSIS","links":[82],"shape":3,"label":"面部分析"}],"properties":{"Node name for S&R":"InstantIDFaceAnalysis","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["CPU"],"color":"rgba(0,0,0,.8)","serialize_values":[null]},{"id":61,"type":"ImageResize+","pos":[7880,-1000],"size":{"0":315,"1":218},"flags":{},"order":50,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":106,"label":"图像","slot_index":0},{"name":"width","type":"INT","link":95,"widget":{"name":"width"},"label":"宽度"},{"name":"height","type":"INT","link":96,"widget":{"name":"height"},"label":"高度"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[90],"shape":3,"label":"图像","slot_index":0},{"name":"width","type":"INT","links":null,"shape":3,"label":"宽度"},{"name":"height","type":"INT","links":null,"shape":3,"label":"高度"}],"properties":{"Node name for S&R":"ImageResize+","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[512,512,"nearest",true,"always",0],"color":"rgba(0,0,0,.8)","serialize_values":[null,null,null,null,null,null]},{"id":62,"type":"LayerMask: MaskGrow","pos":[7460,-970],"size":{"0":315,"1":106},"flags":{},"order":41,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":97,"label":"遮罩","slot_index":0}],"outputs":[{"name":"mask","type":"MASK","links":[91],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"LayerMask: MaskGrow","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[false,4,4],"color":"rgba(0,0,0,.8)","serialize_values":[null,null,null]},{"id":41,"type":"VAEDecode","pos":[7260,-670],"size":{"0":210,"1":46},"flags":{},"order":48,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":62,"label":"Latent"},{"name":"vae","type":"VAE","link":102,"label":"VAE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[64,106],"slot_index":0,"label":"图像"}],"properties":{"Node name for S&R":"VAEDecode","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":51,"type":"ImageCrop","pos":[6540,-1410],"size":{"0":315,"1":130},"flags":{},"order":42,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":108,"label":"图像"},{"name":"width","type":"INT","link":73,"widget":{"name":"width"},"label":"宽度"},{"name":"height","type":"INT","link":74,"widget":{"name":"height"},"slot_index":2,"label":"高度"},{"name":"x","type":"INT","link":75,"widget":{"name":"x"},"label":"X"},{"name":"y","type":"INT","link":76,"widget":{"name":"y"},"label":"Y"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[77,78],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"ImageCrop","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[512,512,0,0],"color":"rgba(0,0,0,.8)","serialize_values":[null,null,null,null]},{"id":11,"type":"Yoloworld_ESAM_Zho","pos":[169.93005486858576,-602.5577023010824],"size":{"0":400,"1":380.0000305175781},"flags":{},"order":18,"mode":0,"inputs":[{"name":"yolo_world_model","type":"YOLOWORLDMODEL","link":10,"label":"yolo_world_model"},{"name":"esam_model","type":"ESAMMODEL","link":11,"label":"esam_model","slot_index":1},{"name":"image","type":"IMAGE","link":12,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[13],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":[15,16],"shape":3,"label":"MASK","slot_index":1}],"properties":{"Node name for S&R":"Yoloworld_ESAM_Zho","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["face",0.01,0.1,2,2,1,true,false,true,false,true,0],"color":"rgba(0,0,0,.8)","serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null]},{"id":44,"type":"Yoloworld_ESAM_Zho","pos":[4910,-780],"size":{"0":391.2470397949219,"1":380.0000305175781},"flags":{},"order":35,"mode":0,"inputs":[{"name":"yolo_world_model","type":"YOLOWORLDMODEL","link":65,"label":"yolo_world_model"},{"name":"esam_model","type":"ESAMMODEL","link":66,"label":"esam_model","slot_index":1},{"name":"image","type":"IMAGE","link":104,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[68],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":[69,70],"shape":3,"label":"MASK","slot_index":1}],"properties":{"Node name for S&R":"Yoloworld_ESAM_Zho","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["face",0.01,0.1,2,2,1,true,false,true,false,true,1],"color":"rgba(0,0,0,.8)","serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null]},{"id":7,"type":"CLIPTextEncode","pos":[1350,-296],"size":{"0":425.27801513671875,"1":180.6060791015625},"flags":{},"order":15,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":5,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[40],"slot_index":0,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncode","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["text, watermark,embedding:JuggernautNegative-neg, embedding:EasyNegative, embedding:EasyNegativeV2, bad face,bad hands,bad feet,blur,bad quality,normal quality,"],"color":"rgba(0,0,0,.8)","serialize_values":["text, watermark,embedding:JuggernautNegative-neg, embedding:EasyNegative, embedding:EasyNegativeV2, bad face,bad hands,bad feet,blur,bad quality,normal quality,"]},{"id":4,"type":"CheckpointLoaderSimple","pos":[966,-322],"size":{"0":315,"1":98},"flags":{},"order":8,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[37,103],"slot_index":0,"label":"模型"},{"name":"CLIP","type":"CLIP","links":[3,5,99,100],"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[8,33,101,102],"slot_index":2,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["juggernautXL_v9_V9 + RDPhoto 2.safetensors(V9)"],"color":"rgba(0,0,0,.8)","serialize_values":["7447_9686_11180@c9e3e68f89.safetensors"]},{"id":58,"type":"ControlNetLoader","pos":[5120,-40],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":9,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[83],"shape":3,"label":"ControlNet"}],"properties":{"Node name for S&R":"ControlNetLoader","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["instantid/diffusion_pytorch_model.safetensors"],"color":"rgba(0,0,0,.8)","serialize_values":[null]},{"id":28,"type":"ApplyInstantID","pos":[577.2979369249518,53.585220765154915],"size":{"0":315,"1":266},"flags":{},"order":28,"mode":0,"inputs":[{"name":"instantid","type":"INSTANTID","link":34,"label":"InstantID","slot_index":0},{"name":"insightface","type":"FACEANALYSIS","link":35,"label":"InsightFace","slot_index":1},{"name":"control_net","type":"CONTROL_NET","link":36,"label":"ControlNet","slot_index":2},{"name":"image","type":"IMAGE","link":43,"label":"图像"},{"name":"model","type":"MODEL","link":37,"label":"模型","slot_index":4},{"name":"positive","type":"CONDITIONING","link":39,"label":"正面条件","slot_index":5},{"name":"negative","type":"CONDITIONING","link":40,"label":"负面条件","slot_index":6},{"name":"image_kps","type":"IMAGE","link":44,"label":"图像_kps"},{"name":"mask","type":"MASK","link":null,"label":"遮罩"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[38],"shape":3,"label":"模型","slot_index":0},{"name":"positive","type":"CONDITIONING","links":[41],"shape":3,"label":"正面条件","slot_index":1},{"name":"negative","type":"CONDITIONING","links":[42],"shape":3,"label":"负面条件","slot_index":2}],"properties":{"Node name for S&R":"ApplyInstantID","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[1,0,1],"color":"rgba(0,0,0,.8)","serialize_values":[null,null,null]},{"id":36,"type":"PreviewImage","pos":[-650,-84],"size":{"0":641.7652587890625,"1":783.6979370117188},"flags":{},"order":34,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":55,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":31,"type":"ControlNetLoader","pos":[383,137],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":10,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[36],"shape":3,"label":"ControlNet"}],"properties":{"Node name for S&R":"ControlNetLoader","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["instantid/diffusion_pytorch_model.safetensors"],"color":"rgba(0,0,0,.8)","serialize_values":[null]},{"id":33,"type":"ImageCompositeMasked","pos":[3496,-819],"size":{"0":315,"1":146},"flags":{},"order":33,"mode":0,"inputs":[{"name":"destination","type":"IMAGE","link":50,"label":"目标图像"},{"name":"source","type":"IMAGE","link":46,"label":"源图像"},{"name":"mask","type":"MASK","link":54,"label":"遮罩"},{"name":"x","type":"INT","link":51,"widget":{"name":"x"},"label":"X"},{"name":"y","type":"INT","link":52,"widget":{"name":"y"},"slot_index":4,"label":"Y"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[55,104,107,108,109],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"ImageCompositeMasked","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[0,0,false],"color":"rgba(0,0,0,.8)","serialize_values":[null,null,null]},{"id":64,"type":"SaveImage","pos":[3094,-59],"size":{"0":478.27752685546875,"1":411.79864501953125},"flags":{},"order":36,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":109,"label":"图像"}],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"],"serialize_values":["ComfyUI"]},{"id":3,"type":"KSampler","pos":[2170,-500],"size":{"0":315,"1":474},"flags":{},"order":29,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":38,"label":"模型"},{"name":"positive","type":"CONDITIONING","link":41,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":42,"label":"负面条件"},{"name":"latent_image","type":"LATENT","link":28,"label":"Latent"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[7],"slot_index":0,"label":"Latent"}],"properties":{"Node name for S&R":"KSampler","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[908736400123370,"randomize",15,2,"dpmpp_sde","karras",0.7000000000000001],"color":"rgba(0,0,0,.8)","serialize_values":[null,null,null,null,null,null,null]},{"id":60,"type":"ImageCompositeMasked","pos":[8240,-990],"size":{"0":315,"1":146},"flags":{},"order":51,"mode":0,"inputs":[{"name":"destination","type":"IMAGE","link":107,"label":"目标图像"},{"name":"source","type":"IMAGE","link":90,"label":"源图像"},{"name":"mask","type":"MASK","link":91,"label":"遮罩"},{"name":"x","type":"INT","link":92,"widget":{"name":"x"},"label":"X"},{"name":"y","type":"INT","link":93,"widget":{"name":"y"},"slot_index":4,"label":"Y"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[110],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"ImageCompositeMasked","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[0,0,false],"color":"rgba(0,0,0,.8)","serialize_values":[null,null,null]},{"id":6,"type":"CLIPTextEncode","pos":[1348,-504],"size":{"0":422.84503173828125,"1":164.31304931640625},"flags":{},"order":14,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":3,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[39],"slot_index":0,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncode","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["masterpiece,high detail,high quality,perfect quality,"],"color":"rgba(0,0,0,.8)","serialize_values":["masterpiece,high detail,high quality,perfect quality,"]},{"id":39,"type":"CLIPTextEncode","pos":[6100,-670],"size":{"0":422.84503173828125,"1":164.31304931640625},"flags":{},"order":16,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":99,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[86],"slot_index":0,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncode","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["looking at viewer,detail,masterpiece,high detail,high quality,perfect quality,"],"color":"rgba(0,0,0,.8)","serialize_values":["looking at viewer,detail,masterpiece,high detail,high quality,perfect quality,"]},{"id":32,"type":"LoadImage","pos":[5738,1550],"size":[549.9414227603284,637.7780248845193],"flags":{},"order":11,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[43],"shape":3,"label":"图像","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/f20bb6ebc8a4916c25e5ed52700b86bf7d7fca12.jpg@1536w_1536h_0e","image"],"color":"rgba(0,0,0,.8)","serialize_values":[null,null]},{"id":13,"type":"LoadImage","pos":[4463,1501],"size":[1258.1925519819679,1419.3102748006286],"flags":{},"order":12,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[12,22,50],"shape":3,"label":"图像","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/50db0a84aa44e68907804f689e3ed8f4a2e786af.png@1536w_1536h_0e","image"],"color":"rgba(0,0,0,.8)","serialize_values":[null,null]},{"id":59,"type":"LoadImage","pos":[5745,2224],"size":[550.6520532319701,704.0211405892196],"flags":{},"order":13,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[84],"shape":3,"label":"图像","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/59b7a3dbfd086d47d7ba1125bef192b1b9ad8f37.png@1536w_1536h_0e","image"],"color":"rgba(0,0,0,.8)","serialize_values":[null,null]},{"id":65,"type":"SaveImage","pos":[6307,1532],"size":[1230.146949074473,1392.1150235262726],"flags":{},"order":52,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":110,"label":"图像"}],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"],"serialize_values":["ComfyUI"]}],"links":[[3,4,1,6,0,"CLIP"],[5,4,1,7,0,"CLIP"],[7,3,0,8,0,"LATENT"],[8,4,2,8,1,"VAE"],[9,8,0,9,0,"IMAGE"],[10,10,0,11,0,"YOLOWORLDMODEL"],[11,12,0,11,1,"ESAMMODEL"],[12,13,0,11,2,"IMAGE"],[13,11,0,14,0,"IMAGE"],[15,11,1,16,0,"MASK"],[16,11,1,17,0,"MASK"],[17,17,0,18,0,"MASK"],[18,17,6,20,1,"INT"],[19,17,7,20,2,"INT"],[20,17,3,20,3,"INT"],[21,17,2,20,4,"INT"],[22,13,0,20,0,"IMAGE"],[26,20,0,24,0,"IMAGE"],[27,20,0,25,0,"IMAGE"],[28,27,0,3,3,"LATENT"],[31,25,0,27,0,"IMAGE"],[33,4,2,27,1,"VAE"],[34,29,0,28,0,"INSTANTID"],[35,30,0,28,1,"FACEANALYSIS"],[36,31,0,28,2,"CONTROL_NET"],[37,4,0,28,4,"MODEL"],[38,28,0,3,0,"MODEL"],[39,6,0,28,5,"CONDITIONING"],[40,7,0,28,6,"CONDITIONING"],[41,28,1,3,1,"CONDITIONING"],[42,28,2,3,2,"CONDITIONING"],[43,32,0,28,3,"IMAGE"],[44,25,0,28,7,"IMAGE"],[45,8,0,34,0,"IMAGE"],[46,34,0,33,1,"IMAGE"],[48,17,6,34,1,"INT"],[49,17,7,34,2,"INT"],[50,13,0,33,0,"IMAGE"],[51,17,3,33,3,"INT"],[52,17,2,33,4,"INT"],[53,17,0,35,0,"MASK"],[54,35,0,33,2,"MASK"],[55,33,0,36,0,"IMAGE"],[56,55,0,37,0,"MODEL"],[57,55,1,37,1,"CONDITIONING"],[58,55,2,37,2,"CONDITIONING"],[59,54,0,37,3,"LATENT"],[62,37,0,41,0,"LATENT"],[64,41,0,42,0,"IMAGE"],[65,43,0,44,0,"YOLOWORLDMODEL"],[66,45,0,44,1,"ESAMMODEL"],[68,44,0,47,0,"IMAGE"],[69,44,1,48,0,"MASK"],[70,44,1,49,0,"MASK"],[71,49,0,50,0,"MASK"],[73,49,6,51,1,"INT"],[74,49,7,51,2,"INT"],[75,49,3,51,3,"INT"],[76,49,2,51,4,"INT"],[77,51,0,52,0,"IMAGE"],[78,51,0,53,0,"IMAGE"],[79,53,0,54,0,"IMAGE"],[81,56,0,55,0,"INSTANTID"],[82,57,0,55,1,"FACEANALYSIS"],[83,58,0,55,2,"CONTROL_NET"],[84,59,0,55,3,"IMAGE"],[86,39,0,55,5,"CONDITIONING"],[87,40,0,55,6,"CONDITIONING"],[88,53,0,55,7,"IMAGE"],[90,61,0,60,1,"IMAGE"],[91,62,0,60,2,"MASK"],[92,49,3,60,3,"INT"],[93,49,2,60,4,"INT"],[95,49,6,61,1,"INT"],[96,49,7,61,2,"INT"],[97,49,0,62,0,"MASK"],[99,4,1,39,0,"CLIP"],[100,4,1,40,0,"CLIP"],[101,4,2,54,1,"VAE"],[102,4,2,41,1,"VAE"],[103,4,0,55,4,"MODEL"],[104,33,0,44,2,"IMAGE"],[106,41,0,61,0,"IMAGE"],[107,33,0,60,0,"IMAGE"],[108,33,0,51,0,"IMAGE"],[109,33,0,64,0,"IMAGE"],[110,60,0,65,0,"IMAGE"]],"groups":[{"title":"Group","bounding":[1065,-1402,1760,358],"color":"#3f789e","font_size":24,"locked":false},{"title":"Group","bounding":[-177,-869,1108,712],"color":"#3f789e","font_size":24,"locked":false},{"title":"Group","bounding":[22,-63,880,398],"color":"#3f789e","font_size":24,"locked":false},{"title":"Group","bounding":[4760,-234,885,398],"color":"#3f789e","font_size":24,"locked":false},{"title":"Group","bounding":[4560,-1044,1107,711],"color":"#3f789e","font_size":24,"locked":false},{"title":"Group","bounding":[5810,-1574,1754,356],"color":"#3f789e","font_size":24,"locked":false},{"title":"Group","bounding":[4433,-1696,4783,2587],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{"workspace_info":{"id":"Uc8FufMBCRA4ilI4S45sq"},"ds":{"scale":0.4594972986357228,"offset":{"0":-4147.625,"1":-1509.2442626953125}}},"version":0.4}