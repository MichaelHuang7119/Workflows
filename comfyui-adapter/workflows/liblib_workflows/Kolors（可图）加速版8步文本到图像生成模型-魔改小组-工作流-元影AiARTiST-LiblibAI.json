{
  "last_node_id": 150,
  "last_link_id": 230,
  "nodes": [
    {
      "id": 56,
      "type": "VAEEncode",
      "pos": [
        2064,
        96
      ],
      "size": [
        216,
        48
      ],
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 101,
          "label": "图像"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 67,
          "label": "VAE"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            99
          ],
          "shape": 3,
          "label": "Latent",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEEncode"
      },
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 96,
      "type": "VAEEncode",
      "pos": [
        984,
        792
      ],
      "size": [
        216,
        72
      ],
      "flags": {},
      "order": 26,
      "mode": 4,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 124,
          "label": "图像"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 120,
          "label": "VAE"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [],
          "shape": 3,
          "label": "Latent",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEEncode"
      },
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 98,
      "type": "ImageScale",
      "pos": [
        984,
        600
      ],
      "size": [
        216,
        120
      ],
      "flags": {},
      "order": 19,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 123,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            124
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageScale"
      },
      "widgets_values": [
        "nearest-exact",
        768,
        1536,
        "center"
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 73,
      "type": "Note",
      "pos": [
        1704,
        1032
      ],
      "size": {
        "0": 264,
        "1": 96
      },
      "flags": {},
      "order": 0,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "SDXL 精修部分的提示词可以留空，也可以填写一些细节调整，权重比例 35% 【SDXL 不支持中文提示词】"
      ],
      "_widget_cache_map": {},
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 78,
      "type": "Note",
      "pos": [
        -864,
        48
      ],
      "size": {
        "0": 408,
        "1": 936
      },
      "flags": {},
      "order": 1,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "AiARTiST 商业设计及广告素材工作流-Kolors DiT\n\nKolors DiT（GLM）ComfyUI 放大精修工作流\n\n7.10 升级第三方加载器，支持单文件GLM3和UNET直接载入\n7.10 支持LoRA UNET加载，支持Hyper加速器\n\n模型及组件包网盘：\n链接：https://pan.baidu.com/s/1od2-kb5x8LjcxAfQnzXTKg?pwd=AIGC \n提取码：AIGC \n--模型目录已建立好，请按照正确路径存放Diffusers格式模型\n\n项目开源模型：\nhttps://huggingface.co/Kwai-Kolors/Kolors\n\nComfyUI 加载器封装组件：\nhttps://github.com/kijai/ComfyUI-KwaiKolorsWrapper\n\n\nKolors：用于逼真文本到图像合成的扩散模型的有效训练\n\nKolors是由快手Kolors团队开发的一种基于潜在扩散的大规模文本到图像生成模型。经过数十亿对文本图像的训练，Kolors在视觉质量、复杂的语义准确性以及中文和英文字符的文本渲染方面比开源和专有模型都表现出显著优势。此外，Kolors同时支持中文和英文输入，在理解和生成中文特定内容方面表现出色。\n\n开源Kolors，与开源社区合作，促进大型文本到图像模型的开发。该项目的代码是在Apache-2.0许可证下开源的。我们真诚地敦促所有开发者和用户严格遵守开源许可证，避免将开源模型、代码及其衍生物用于任何可能危害国家和社会的目的，或用于任何未经安全评估和注册的服务。请注意，尽管我们在训练过程中尽了最大努力确保数据的合规性、准确性和安全性，但由于生成内容的多样性和可组合性以及影响模型的概率随机性，我们无法保证输出内容的准确性和安全性，并且模型容易产生误导。对于因使用开源模型和代码而导致模型被误导、滥用、误用或不当使用而产生的任何数据安全问题、舆论风险或风险和责任，本项目不承担任何法律责任。\n\n----------------------------------------------------------------------\nAiARTiST\n\n模型清单： https://www.liblib.art/search?keyword=AiARTiST\n免费模型占比 55% ，开源模型占比 95%\n会员模型占比 40% ，闭源模型占比 5%\n\n商用模型：\nAiARTiST-CADS2.0 XL 商业广告辅助系统（企业定制）\nhttps://www.liblib.art/modelinfo/a56ebacdba7d4e30b97bb124bc3fc28f \n<<点击直达\n----------------------------------------------------------------------\n其他模型推广：\n\n开源模型 UNIT-lib XL（已包含1GIRL权重，叠加使用可加强人像）：\nAiARTiST XL 基础单元 CADS2 LoRA 兼容版 站内链接\nhttps://www.liblib.art/modelinfo/b10dfccc06f34dfa9031f1d070d846ee\n\nUNIT2XL基础单元2-图形设计与IP形象AiARTiST 站内链接\nhttps://www.liblib.art/modelinfo/a202d2e89e2946539a52a5a4e937262d\nUNIT-lib XL 开放会员下载，支持融合，会员同时享有在线加速生成\n\n更明亮的3D效果，请搭配 ACG Playground V6 开源版 ：\nhttps://www.liblib.art/modelinfo/4bb107737a1349f7a053bbf618e46977 \n<<免费下载\n\nControlNET 配置优化方案及本地配置方案，请加群：\n联系方式见 https://afdian.net/a/AiARTiST-lib 发电用户专享\n----------------------------------------------------------------------\n模型用途声明：\n\n1. 您不得将此模型及其衍生版本（如融合模型版本）托管于计划赚取收入或捐赠的网站/应用程序。\n\n2. 您不得直接售卖此模型及其衍生版本（如融合模型版本），除非您对此模型进行了足够程度的人工修改，使其在法律意义上可以被完全判定为您的个人作品。如果您违反本条，所造成的一切法律后果由您个人承担，请恕本人概不负责。\n\n3. 您不能使用该模型故意制作或共享非法或有害的内容传播和输出，请您遵守公序良德，将此模型用于积极正面的用途。\n----------------------------------------------------------------------\n测试问题请留言，业务合作看个人首页 +V Zyuan980\nAiARTiST | Metaverse 中国·山东 数字人/AiGC/元宇宙方向\n做好工具人 服务艺术家 联系方式：https://afdian.net/a/AiARTiST-lib"
      ],
      "_widget_cache_map": {},
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 77,
      "type": "ImageScaleBy",
      "pos": [
        1704,
        96
      ],
      "size": [
        315,
        82
      ],
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 100,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            101
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageScaleBy"
      },
      "widgets_values": [
        "nearest-exact",
        1.5
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 118,
      "type": "LoadImage",
      "pos": [
        -360,
        504
      ],
      "size": [
        312,
        480
      ],
      "flags": {},
      "order": 2,
      "mode": 4,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            148
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "1721837285343.png",
        "image"
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 120,
      "type": "IPAdapter",
      "pos": [
        -360,
        264
      ],
      "size": [
        315,
        190
      ],
      "flags": {},
      "order": 30,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 151,
          "label": "模型"
        },
        {
          "name": "ipadapter",
          "type": "IPADAPTER",
          "link": 152,
          "label": "IPAdapter",
          "slot_index": 1
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 148,
          "label": "图像"
        },
        {
          "name": "attn_mask",
          "type": "MASK",
          "link": null,
          "label": "关注层遮罩"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            193
          ],
          "shape": 3,
          "label": "模型",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "IPAdapter"
      },
      "widgets_values": [
        1,
        0,
        1,
        "standard"
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Custom Nodes"
    },
    {
      "id": 124,
      "type": "MZ_KolorsControlNetPatch",
      "pos": [
        531.029719812307,
        -481.08078818002144
      ],
      "size": [
        288,
        48
      ],
      "flags": {},
      "order": 17,
      "mode": 4,
      "inputs": [
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 161,
          "slot_index": 0,
          "label": "control_net"
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": null,
          "label": "model"
        }
      ],
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            171
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "CONTROL_NET"
        }
      ],
      "properties": {
        "Node name for S&R": "MZ_KolorsControlNetPatch"
      },
      "locked": true,
      "category": "Custom Nodes"
    },
    {
      "id": 140,
      "type": "PreviewImage",
      "pos": [
        867.029719812307,
        -265.08078818002144
      ],
      "size": [
        312,
        240
      ],
      "flags": {},
      "order": 29,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 197,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 139,
      "type": "AnyLineArtPreprocessor_aux",
      "pos": [
        867.029719812307,
        -481.08078818002144
      ],
      "size": [
        315,
        178
      ],
      "flags": {},
      "order": 25,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 196,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            195,
            197
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "AnyLineArtPreprocessor_aux"
      },
      "widgets_values": [
        "lineart_realisitic",
        1024,
        0,
        1,
        36,
        1
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Custom Nodes"
    },
    {
      "id": 125,
      "type": "ControlNetLoader",
      "pos": [
        27.029719812306922,
        -481.08078818002144
      ],
      "size": [
        456,
        72
      ],
      "flags": {},
      "order": 3,
      "mode": 4,
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            161
          ],
          "shape": 3,
          "label": "ControlNet"
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        ""
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 110,
      "type": "Note",
      "pos": [
        984,
        408
      ],
      "size": {
        "0": 216,
        "1": 96
      },
      "flags": {},
      "order": 4,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "开启LoRA加速器后，选择您常用的加速LoRA，并修改左侧的采样器步数，CFG等参数。"
      ],
      "_widget_cache_map": {},
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 130,
      "type": "ControlNetApply",
      "pos": [
        507.029719812307,
        -145.08078818002141
      ],
      "size": [
        315,
        98
      ],
      "flags": {},
      "order": 28,
      "mode": 4,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 185,
          "label": "条件"
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 171,
          "label": "ControlNet"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 195,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            174
          ],
          "shape": 3,
          "label": "条件",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetApply"
      },
      "widgets_values": [
        0.5
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 129,
      "type": "LoadImage",
      "pos": [
        27.029719812306922,
        -337.08078818002144
      ],
      "size": [
        456,
        312
      ],
      "flags": {},
      "order": 5,
      "mode": 4,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            165
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "1721837285343.png",
        "image"
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 99,
      "type": "Note",
      "pos": [
        -432,
        -384
      ],
      "size": {
        "0": 432,
        "1": 120
      },
      "flags": {},
      "order": 6,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "增加【图生图】工作组，增加【ControlNet支持】及默认【UNION模型】流程，目前测试下来ControlNet适应性还不是很好，需要尽量降低（大约0.5左右）cn权重，同时，加强XL精修之后，可以获得一个不错的构图。"
      ],
      "_widget_cache_map": {},
      "color": "#432",
      "bgcolor": "#653",
      "category": "Official"
    },
    {
      "id": 128,
      "type": "ImageScale",
      "pos": [
        507.029719812307,
        -337.08078818002144
      ],
      "size": [
        315,
        130
      ],
      "flags": {},
      "order": 18,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 165,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            196
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageScale"
      },
      "widgets_values": [
        "nearest-exact",
        512,
        1024,
        "center"
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 95,
      "type": "LoadImage",
      "pos": [
        648,
        600
      ],
      "size": [
        312,
        360
      ],
      "flags": {},
      "order": 7,
      "mode": 4,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            123
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "1721837285343.png",
        "image"
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 31,
      "type": "PreviewImage",
      "pos": [
        1248,
        96
      ],
      "size": [
        408,
        864
      ],
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 38,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 10,
      "type": "VAEDecode",
      "pos": [
        1008,
        96
      ],
      "size": [
        210,
        46
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 132,
          "label": "Latent"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 12,
          "slot_index": 1,
          "label": "VAE"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            38,
            100
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 72,
      "type": "CLIPTextEncode",
      "pos": [
        2016,
        432
      ],
      "size": [
        264,
        120
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 93,
          "label": "CLIP"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            90
          ],
          "shape": 3,
          "label": "条件",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        ""
      ],
      "_widget_cache_map": {},
      "color": "#346434",
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 137,
      "type": "MZ_ChatGLM3_V2",
      "pos": [
        960,
        192
      ],
      "size": [
        268.79998779296875,
        144
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "chatglm3_model",
          "type": "CHATGLM3MODEL",
          "link": 229,
          "slot_index": 0,
          "label": "chatglm3_model"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            187,
            222
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "CONDITIONING"
        }
      ],
      "properties": {
        "Node name for S&R": "MZ_ChatGLM3_V2"
      },
      "widgets_values": [
        ""
      ],
      "_widget_cache_map": {},
      "color": "#232",
      "bgcolor": "#353",
      "locked": true,
      "category": "Custom Nodes"
    },
    {
      "id": 145,
      "type": "SAMLoader",
      "pos": [
        1368.0001220703125,
        -810.1217896292468
      ],
      "size": [
        336,
        96
      ],
      "flags": {},
      "order": 8,
      "mode": 4,
      "outputs": [
        {
          "name": "SAM_MODEL",
          "type": "SAM_MODEL",
          "links": [
            206
          ],
          "shape": 3,
          "label": "SAM模型"
        }
      ],
      "properties": {
        "Node name for S&R": "SAMLoader"
      },
      "widgets_values": [
        "sam_vit_b_01ec64.pth",
        "AUTO"
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Custom Nodes"
    },
    {
      "id": 146,
      "type": "UltralyticsDetectorProvider",
      "pos": [
        1368.0001220703125,
        -954.1217896292463
      ],
      "size": [
        336,
        72
      ],
      "flags": {},
      "order": 9,
      "mode": 4,
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [
            205
          ],
          "shape": 3,
          "label": "BBox检测",
          "slot_index": 0
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": [
            207
          ],
          "shape": 3,
          "label": "SEGM检测"
        }
      ],
      "properties": {
        "Node name for S&R": "UltralyticsDetectorProvider"
      },
      "widgets_values": [
        "bbox/face_yolov8m"
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Custom Nodes"
    },
    {
      "id": 147,
      "type": "CLIPLoader",
      "pos": [
        1368,
        -648
      ],
      "size": [
        336,
        96
      ],
      "flags": {},
      "order": 10,
      "mode": 4,
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            225
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "CLIP"
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPLoader"
      },
      "widgets_values": [
        "stable-cascade-clip",
        "stable_diffusion"
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 142,
      "type": "CR Multi Upscale Stack",
      "pos": [
        1368,
        -504
      ],
      "size": [
        336,
        264
      ],
      "flags": {},
      "order": 11,
      "mode": 4,
      "inputs": [
        {
          "name": "upscale_stack",
          "type": "UPSCALE_STACK",
          "link": null,
          "label": "放大堆",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "UPSCALE_STACK",
          "type": "UPSCALE_STACK",
          "links": [
            204
          ],
          "shape": 3,
          "label": "放大堆",
          "slot_index": 0
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "CR Multi Upscale Stack"
      },
      "widgets_values": [
        "On",
        "None",
        1.5,
        "Off",
        "None",
        2,
        "Off",
        "None",
        2
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Custom Nodes"
    },
    {
      "id": 143,
      "type": "CR Apply Multi Upscale",
      "pos": [
        1368,
        -168
      ],
      "size": [
        336,
        120
      ],
      "flags": {},
      "order": 39,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 203,
          "label": "图像"
        },
        {
          "name": "upscale_stack",
          "type": "UPSCALE_STACK",
          "link": 204,
          "label": "放大堆"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            202,
            226
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "CR Apply Multi Upscale"
      },
      "widgets_values": [
        "lanczos",
        "true",
        8
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Custom Nodes"
    },
    {
      "id": 144,
      "type": "FaceDetailer",
      "pos": [
        1752.0001220703125,
        -954.1217896292463
      ],
      "size": [
        528,
        900
      ],
      "flags": {},
      "order": 38,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 208,
          "label": "图像"
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 227,
          "label": "模型"
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 225,
          "label": "CLIP",
          "slot_index": 2
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 223,
          "label": "VAE"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 221,
          "label": "正面条件"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 222,
          "label": "负面条件"
        },
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 205,
          "label": "BBox检测",
          "slot_index": 6
        },
        {
          "name": "sam_model_opt",
          "type": "SAM_MODEL",
          "link": 206,
          "label": "SAM模型",
          "slot_index": 7
        },
        {
          "name": "segm_detector_opt",
          "type": "SEGM_DETECTOR",
          "link": 207,
          "label": "Segm检测",
          "slot_index": 8
        },
        {
          "name": "detailer_hook",
          "type": "DETAILER_HOOK",
          "link": null,
          "label": "细化约束",
          "slot_index": 9
        },
        {
          "name": "scheduler_func_opt",
          "type": "SCHEDULER_FUNC",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            203
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        },
        {
          "name": "cropped_refined",
          "type": "IMAGE",
          "links": null,
          "shape": 6,
          "label": "细化图像"
        },
        {
          "name": "cropped_enhanced_alpha",
          "type": "IMAGE",
          "links": null,
          "shape": 6,
          "label": "细化部分"
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "遮罩"
        },
        {
          "name": "detailer_pipe",
          "type": "DETAILER_PIPE",
          "links": null,
          "shape": 3,
          "label": "细化节点束"
        },
        {
          "name": "cnet_images",
          "type": "IMAGE",
          "links": null,
          "shape": 6,
          "label": "ControlNet图像"
        }
      ],
      "properties": {
        "Node name for S&R": "FaceDetailer"
      },
      "widgets_values": [
        768,
        true,
        1536,
        620063355712242,
        "randomize",
        10,
        1,
        "euler_ancestral",
        "normal",
        0.5,
        5,
        true,
        true,
        0.5,
        10,
        3,
        "center-1",
        0,
        0.93,
        0,
        0.7,
        "False",
        10,
        "",
        1,
        false,
        20
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Custom Nodes"
    },
    {
      "id": 141,
      "type": "PreviewImage",
      "pos": [
        2352.000122070312,
        -954.1217896292463
      ],
      "size": [
        768,
        912
      ],
      "flags": {},
      "order": 40,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 202,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "color": "#222",
      "bgcolor": "#000",
      "shape": 1,
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 59,
      "type": "VAEDecode",
      "pos": [
        2064,
        192
      ],
      "size": [
        210,
        46
      ],
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 84,
          "label": "Latent"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 85,
          "label": "VAE"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            208
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 63,
      "type": "CheckpointLoaderSimple",
      "pos": [
        1704,
        288
      ],
      "size": [
        576,
        96
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            79
          ],
          "shape": 3,
          "label": "模型",
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            92,
            93
          ],
          "shape": 3,
          "slot_index": 1,
          "label": "CLIP"
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            85
          ],
          "shape": 3,
          "slot_index": 2,
          "label": "VAE"
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "UNIT3XL-基础单元-工作流兼容版-AiARTiST_UNIT3Hyper"
      ],
      "_widget_cache_map": {
        "UNIT3XL-基础单元-工作流兼容版-AiARTiST_UNIT3Hyper": {
          "name": "UNIT3XL-基础单元-工作流兼容版-AiARTiST_UNIT3Hyper",
          "value": 2150520
        }
      },
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 64,
      "type": "KSampler",
      "pos": [
        1704,
        600
      ],
      "size": [
        576,
        360
      ],
      "flags": {},
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 79,
          "label": "模型"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 89,
          "label": "正面条件",
          "slot_index": 1
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 90,
          "label": "负面条件",
          "slot_index": 2
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 99,
          "label": "Latent"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            84
          ],
          "shape": 3,
          "label": "Latent",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        829513928266158,
        "randomize",
        10,
        1,
        "euler_ancestral",
        "normal",
        0.36
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 11,
      "type": "VAELoader",
      "pos": [
        624,
        96
      ],
      "size": [
        312,
        48
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            12,
            67,
            120,
            223
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAELoader"
      },
      "widgets_values": [
        "sd_xl_vae_1.0"
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 122,
      "type": "IPAdapterUnifiedLoader",
      "pos": [
        -360,
        120
      ],
      "size": [
        315,
        78
      ],
      "flags": {},
      "order": 27,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 159,
          "label": "模型"
        },
        {
          "name": "ipadapter",
          "type": "IPADAPTER",
          "link": null,
          "label": "IPAdapter"
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "MODEL",
          "links": [
            151
          ],
          "shape": 3,
          "label": "模型",
          "slot_index": 0
        },
        {
          "name": "ipadapter",
          "type": "IPADAPTER",
          "links": [
            152
          ],
          "shape": 3,
          "label": "IPAdapter",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "IPAdapterUnifiedLoader"
      },
      "widgets_values": [
        "STANDARD (medium strength)"
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Custom Nodes"
    },
    {
      "id": 150,
      "type": "MZ_KolorsUNETLoaderV2",
      "pos": [
        30,
        206
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 14,
      "mode": 0,
      "outputs": [
        {
          "name": "model",
          "type": "MODEL",
          "links": [
            230
          ],
          "shape": 3,
          "label": "model",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "MZ_KolorsUNETLoaderV2"
      },
      "widgets_values": [
        "kolors.fp16.safetensors"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 135,
      "type": "MZ_ChatGLM3_V2",
      "pos": [
        624,
        192
      ],
      "size": [
        312,
        144
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "chatglm3_model",
          "type": "CHATGLM3MODEL",
          "link": 228,
          "slot_index": 0,
          "label": "chatglm3_model"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            185,
            221
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "CONDITIONING"
        }
      ],
      "properties": {
        "Node name for S&R": "MZ_ChatGLM3_V2"
      },
      "widgets_values": [
        "- 在一个被高科技统治的世界中,传说中的龙脉仍然存在,并被一群高科技公司所控制,这些公司利用龙脉的能量来驱动城市的运作,主角是一位被选中的守护者,他必须驾驭高科技装备与古老的法术,对抗那些企图破坏龙脉平衡的邪恶力量,"
      ],
      "_widget_cache_map": {},
      "color": "#322",
      "bgcolor": "#533",
      "locked": true,
      "category": "Custom Nodes"
    },
    {
      "id": 106,
      "type": "EmptyLatentImage",
      "pos": [
        384,
        96
      ],
      "size": [
        216,
        168
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            133
          ],
          "shape": 3,
          "label": "Latent",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "EmptyLatentImage"
      },
      "widgets_values": [
        1536,
        864,
        1
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 101,
      "type": "KSampler",
      "pos": [
        24,
        312
      ],
      "size": [
        576,
        648
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 193,
          "label": "模型"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 174,
          "label": "正面条件"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 187,
          "label": "负面条件",
          "slot_index": 2
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 133,
          "label": "Latent"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            132
          ],
          "shape": 3,
          "label": "Latent",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        463795055988176,
        "randomize",
        8,
        1,
        "euler_ancestral",
        "normal",
        1
      ],
      "_widget_cache_map": {},
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 108,
      "type": "LoraLoaderModelOnly",
      "pos": [
        648,
        432
      ],
      "size": [
        312,
        82
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 230,
          "label": "模型"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            159,
            227
          ],
          "shape": 3,
          "label": "模型",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "LoraLoaderModelOnly"
      },
      "widgets_values": [
        "Hyper-SD15-8steps-lora(蒸馏加速）_Hyper-SDXL-8ste",
        1
      ],
      "_widget_cache_map": {
        "HyperL-SDXL加速器-PAseer_V3.5": {
          "name": "HyperL-SDXL加速器-PAseer_V3.5",
          "value": 1692684
        },
        "Hyper-SD15-8steps-lora(蒸馏加速）_Hyper-SDXL-8ste": {
          "name": "Hyper-SD15-8steps-lora(蒸馏加速）_Hyper-SDXL-8ste",
          "value": 1630590
        }
      },
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 71,
      "type": "CLIPTextEncode",
      "pos": [
        1704,
        432
      ],
      "size": [
        288,
        120
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 92,
          "label": "CLIP"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            89
          ],
          "shape": 3,
          "label": "条件",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        ""
      ],
      "_widget_cache_map": {},
      "color": "#af3535",
      "locked": true,
      "category": "Primitive Nodes"
    },
    {
      "id": 149,
      "type": "DownloadAndLoadChatGLM3",
      "pos": [
        36,
        97
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 16,
      "mode": 0,
      "outputs": [
        {
          "name": "chatglm3_model",
          "type": "CHATGLM3MODEL",
          "links": [
            228,
            229
          ],
          "shape": 3,
          "label": "chatglm3_model",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "DownloadAndLoadChatGLM3"
      },
      "widgets_values": [
        "quant8"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 60,
      "type": "SaveImage",
      "pos": [
        2352,
        48
      ],
      "size": [
        816,
        936
      ],
      "flags": {},
      "order": 41,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 226,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "SaveImage"
      },
      "widgets_values": [
        "Kolors-XL-Refiner"
      ],
      "_widget_cache_map": {},
      "color": "rgba(0,0,0,.8)",
      "shape": 1,
      "locked": true,
      "category": "Primitive Nodes"
    }
  ],
  "links": [
    [
      12,
      11,
      0,
      10,
      1,
      "VAE"
    ],
    [
      38,
      10,
      0,
      31,
      0,
      "IMAGE"
    ],
    [
      67,
      11,
      0,
      56,
      1,
      "VAE"
    ],
    [
      79,
      63,
      0,
      64,
      0,
      "MODEL"
    ],
    [
      84,
      64,
      0,
      59,
      0,
      "LATENT"
    ],
    [
      85,
      63,
      2,
      59,
      1,
      "VAE"
    ],
    [
      89,
      71,
      0,
      64,
      1,
      "CONDITIONING"
    ],
    [
      90,
      72,
      0,
      64,
      2,
      "CONDITIONING"
    ],
    [
      92,
      63,
      1,
      71,
      0,
      "CLIP"
    ],
    [
      93,
      63,
      1,
      72,
      0,
      "CLIP"
    ],
    [
      99,
      56,
      0,
      64,
      3,
      "LATENT"
    ],
    [
      100,
      10,
      0,
      77,
      0,
      "IMAGE"
    ],
    [
      101,
      77,
      0,
      56,
      0,
      "IMAGE"
    ],
    [
      120,
      11,
      0,
      96,
      1,
      "VAE"
    ],
    [
      123,
      95,
      0,
      98,
      0,
      "IMAGE"
    ],
    [
      124,
      98,
      0,
      96,
      0,
      "IMAGE"
    ],
    [
      132,
      101,
      0,
      10,
      0,
      "LATENT"
    ],
    [
      133,
      106,
      0,
      101,
      3,
      "LATENT"
    ],
    [
      148,
      118,
      0,
      120,
      2,
      "IMAGE"
    ],
    [
      151,
      122,
      0,
      120,
      0,
      "MODEL"
    ],
    [
      152,
      122,
      1,
      120,
      1,
      "IPADAPTER"
    ],
    [
      159,
      108,
      0,
      122,
      0,
      "MODEL"
    ],
    [
      161,
      125,
      0,
      124,
      0,
      "CONTROL_NET"
    ],
    [
      165,
      129,
      0,
      128,
      0,
      "IMAGE"
    ],
    [
      171,
      124,
      0,
      130,
      1,
      "CONTROL_NET"
    ],
    [
      174,
      130,
      0,
      101,
      1,
      "CONDITIONING"
    ],
    [
      185,
      135,
      0,
      130,
      0,
      "CONDITIONING"
    ],
    [
      187,
      137,
      0,
      101,
      2,
      "CONDITIONING"
    ],
    [
      193,
      120,
      0,
      101,
      0,
      "MODEL"
    ],
    [
      195,
      139,
      0,
      130,
      2,
      "IMAGE"
    ],
    [
      196,
      128,
      0,
      139,
      0,
      "IMAGE"
    ],
    [
      197,
      139,
      0,
      140,
      0,
      "IMAGE"
    ],
    [
      202,
      143,
      0,
      141,
      0,
      "IMAGE"
    ],
    [
      203,
      144,
      0,
      143,
      0,
      "IMAGE"
    ],
    [
      204,
      142,
      0,
      143,
      1,
      "UPSCALE_STACK"
    ],
    [
      205,
      146,
      0,
      144,
      6,
      "BBOX_DETECTOR"
    ],
    [
      206,
      145,
      0,
      144,
      7,
      "SAM_MODEL"
    ],
    [
      207,
      146,
      1,
      144,
      8,
      "SEGM_DETECTOR"
    ],
    [
      208,
      59,
      0,
      144,
      0,
      "IMAGE"
    ],
    [
      221,
      135,
      0,
      144,
      4,
      "CONDITIONING"
    ],
    [
      222,
      137,
      0,
      144,
      5,
      "CONDITIONING"
    ],
    [
      223,
      11,
      0,
      144,
      3,
      "VAE"
    ],
    [
      225,
      147,
      0,
      144,
      2,
      "CLIP"
    ],
    [
      226,
      143,
      0,
      60,
      0,
      "IMAGE"
    ],
    [
      227,
      108,
      0,
      144,
      1,
      "MODEL"
    ],
    [
      228,
      149,
      0,
      135,
      0,
      "CHATGLM3MODEL"
    ],
    [
      229,
      149,
      0,
      137,
      0,
      "CHATGLM3MODEL"
    ],
    [
      230,
      150,
      0,
      108,
      0,
      "MODEL"
    ]
  ],
  "groups": [
    {
      "title": "Kolors 可图开源模型文生图工作组",
      "bounding": [
        13,
        13,
        1665,
        973
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": true
    },
    {
      "title": "AiARTiST SDXL 高清放大精修（升级材质）",
      "bounding": [
        1691,
        15,
        631,
        972
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": true
    },
    {
      "title": "图生图 参考图加载器",
      "bounding": [
        636,
        529,
        581,
        445
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": true
    },
    {
      "title": "Hyper等加速器LoRA加载",
      "bounding": [
        633,
        365,
        589,
        154
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "IPA Plus模型单样本风格导入垫图生图",
      "bounding": [
        -423,
        14,
        417,
        981
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": true
    },
    {
      "title": "ControlNet 模块（默认使用UNION模型）",
      "bounding": [
        15,
        -583,
        1217,
        580
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": true
    },
    {
      "title": "Anyline预处理器（目前效果不佳）",
      "bounding": [
        852,
        -546,
        364,
        537
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": true
    },
    {
      "title": "修脸加后期放大 Ctrl框选 Ctrl+B 开关",
      "bounding": [
        1333,
        -1034,
        1814,
        1023
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": true
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.7247295000000007,
      "offset": {
        "0": -148.00169679650432,
        "1": 164.4904251249553
      }
    },
    "0246.VERSION": [
      0,
      0,
      4
    ]
  },
  "version": 0.4
}