{
  "last_node_id": 470,
  "last_link_id": 743,
  "nodes": [
    {
      "id": 246,
      "type": "LoadImage",
      "pos": [
        -4649,
        2176
      ],
      "size": {
        "0": 800,
        "1": 1250
      },
      "flags": {},
      "order": 0,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            657
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": [],
          "shape": 3,
          "label": "遮罩",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "0be85e3d-0c2c-4894-886d-cbde10912edc.png",
        "image"
      ],
      "_widget_cache_map": {
        "output6565.png": {
          "value": "img/46987de339ac47e0965172f7ccd1b939/5e5d7a167498e0909784f8dcc27faff369968e950762e72dd7c5330379651099.png",
          "name": "output6565.png",
          "url": "https://liblibai-tmp-image.vibrou.com/img/46987de339ac47e0965172f7ccd1b939/5e5d7a167498e0909784f8dcc27faff369968e950762e72dd7c5330379651099.png"
        },
        "ComfyUI_temp_nkavz_00130_.png": {
          "value": "img/46987de339ac47e0965172f7ccd1b939/e59e48c86ff4509538439306d46acf69fb0bcdd97bf3a1710ccfe4787a177230.png",
          "name": "ComfyUI_temp_nkavz_00130_.png",
          "url": "https://liblibai-tmp-image.vibrou.com/img/46987de339ac47e0965172f7ccd1b939/e59e48c86ff4509538439306d46acf69fb0bcdd97bf3a1710ccfe4787a177230.png"
        },
        "output (20).png": {
          "value": "img/46987de339ac47e0965172f7ccd1b939/854ce9f1a5b466662f2090add06fe5ba9bb3b9d0bc281230d3d3933552b5506a.png",
          "name": "output (20).png",
          "url": "https://liblibai-tmp-image.vibrou.com/img/46987de339ac47e0965172f7ccd1b939/854ce9f1a5b466662f2090add06fe5ba9bb3b9d0bc281230d3d3933552b5506a.png"
        },
        "17ac4b3486d9f6478eea8ec9c8a270945fce83cf1ddb91feb0a3b835a048e4d1.png": {
          "value": "img/46987de339ac47e0965172f7ccd1b939/a86f17ab1d618e8cb77a65486f33754f1dd0febf96be51cdfdcd535693cf7f89.png",
          "name": "17ac4b3486d9f6478eea8ec9c8a270945fce83cf1ddb91feb0a3b835a048e4d1.png",
          "url": "https://liblibai-tmp-image.vibrou.com/img/46987de339ac47e0965172f7ccd1b939/a86f17ab1d618e8cb77a65486f33754f1dd0febf96be51cdfdcd535693cf7f89.png"
        },
        "ComfyUI_01373_.png": {
          "value": "img/46987de339ac47e0965172f7ccd1b939/970bf652d5d6bb247167721f255844d32811076a7150a85cfc664ec173f58c47.png",
          "name": "ComfyUI_01373_.png",
          "url": "https://liblibai-tmp-image.vibrou.com/img/46987de339ac47e0965172f7ccd1b939/970bf652d5d6bb247167721f255844d32811076a7150a85cfc664ec173f58c47.png"
        },
        "4135c970-8211-46b4-8160-1f5da78e6443.png": {
          "value": "img/46987de339ac47e0965172f7ccd1b939/1e83dc4a01f75cd96776b0b041312867b30a82dd8a6666d93d39ce86cd6b09d8.png",
          "name": "4135c970-8211-46b4-8160-1f5da78e6443.png",
          "url": "https://liblibai-tmp-image.vibrou.com/img/46987de339ac47e0965172f7ccd1b939/1e83dc4a01f75cd96776b0b041312867b30a82dd8a6666d93d39ce86cd6b09d8.png"
        },
        "0be85e3d-0c2c-4894-886d-cbde10912edc.png": {
          "value": "img/46987de339ac47e0965172f7ccd1b939/3dc01b4940f82a9761b21da97f47f10a1ac330eaa874f0bacd5d48b3a2a4d95a.png",
          "name": "0be85e3d-0c2c-4894-886d-cbde10912edc.png",
          "url": "https://liblibai-tmp-image.vibrou.com/img/46987de339ac47e0965172f7ccd1b939/3dc01b4940f82a9761b21da97f47f10a1ac330eaa874f0bacd5d48b3a2a4d95a.png"
        }
      },
      "category": "Primitive Nodes"
    },
    {
      "id": 247,
      "type": "ImageScaleBy",
      "pos": [
        -3664,
        2800
      ],
      "size": {
        "0": 320,
        "1": 82
      },
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 657,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            684,
            685,
            699,
            701,
            704,
            706,
            719
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageScaleBy"
      },
      "widgets_values": [
        "area",
        1
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 462,
      "type": "CheckpointLoaderSimple",
      "pos": [
        -3700,
        1700
      ],
      "size": {
        "0": 491.2706298828125,
        "1": 110.28661346435547
      },
      "flags": {},
      "order": 1,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            722
          ],
          "shape": 3,
          "label": "模型",
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            681
          ],
          "shape": 3,
          "label": "CLIP",
          "slot_index": 1
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            678,
            720
          ],
          "shape": 3,
          "label": "VAE",
          "slot_index": 2
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "majicMIX realistic 麦橘写实_v7"
      ],
      "_widget_cache_map": {
        "majicMIX realistic 麦橘写实_v7": {
          "name": "majicMIX realistic 麦橘写实_v7",
          "value": 125488
        }
      },
      "category": "Primitive Nodes"
    },
    {
      "id": 240,
      "type": "CLIPSetLastLayer",
      "pos": [
        -3110,
        1535
      ],
      "size": {
        "0": 430.42144775390625,
        "1": 93.7464370727539
      },
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 681,
          "label": "CLIP",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            360,
            661
          ],
          "shape": 3,
          "label": "CLIP",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPSetLastLayer"
      },
      "widgets_values": [
        -2
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 461,
      "type": "CLIPTextEncode",
      "pos": [
        -2550,
        1732
      ],
      "size": {
        "0": 404.88079833984375,
        "1": 236.54649353027344
      },
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 661,
          "label": "CLIP"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            732
          ],
          "shape": 3,
          "label": "条件",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "A Young Girl，Pink Suit"
      ],
      "_widget_cache_map": {},
      "color": "#232",
      "bgcolor": "#353",
      "category": "Primitive Nodes"
    },
    {
      "id": 273,
      "type": "CLIPTextEncode",
      "pos": [
        -2542,
        2033
      ],
      "size": {
        "0": 394.0476379394531,
        "1": 230.54649353027344
      },
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 360,
          "label": "CLIP",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            733
          ],
          "shape": 3,
          "label": "条件",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "sketches, (worst quality:2), (low quality:2), (normal quality:2), lowers, normal quality, ((monochrome)), ((grayscale)), facing away, looking away, text, error ,extra digit, fewer digits, cropped,jpeg artifacts,signature, watermark, username,blurry, skin spots, acnes, skin blemishes, bad anatomy,fat,bad feet,cropped,poorly drawn hands,poorly drawn face,mutation,deformed, tilted head, bad anatomy,bad hands,extra fingers,fewer digits,extra limbs,extra arms,extra legs,malformed limbs,fused fingers, too many fingers,long neck,cross-eyed,mutated hands,bad body,bad proportions,gross proportions,text,error,missing fingers, missing arms,missing legs,extra digit, extra arms, extra leg, extra foot,missing fingers"
      ],
      "_widget_cache_map": {},
      "color": "#322",
      "bgcolor": "#533",
      "category": "Primitive Nodes"
    },
    {
      "id": 464,
      "type": "ControlNetApplyAdvanced",
      "pos": [
        -1709,
        1885
      ],
      "size": {
        "0": 315,
        "1": 166
      },
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 732,
          "label": "正面条件"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 733,
          "label": "负面条件"
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 730,
          "label": "ControlNet"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 731,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            734
          ],
          "shape": 3,
          "label": "正面条件",
          "slot_index": 0
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            735
          ],
          "shape": 3,
          "label": "负面条件",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetApplyAdvanced"
      },
      "widgets_values": [
        1,
        0,
        1
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 444,
      "type": "ControlNetLoader",
      "pos": [
        -2054,
        1884
      ],
      "size": {
        "0": 320,
        "1": 60
      },
      "flags": {},
      "order": 2,
      "mode": 0,
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            730
          ],
          "shape": 3,
          "label": "ControlNet",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "control_v11p_sd15_openpose"
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 448,
      "type": "OpenposePreprocessor",
      "pos": [
        -2067,
        2091
      ],
      "size": {
        "0": 320,
        "1": 150
      },
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 685,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            731
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        },
        {
          "name": "POSE_KEYPOINT",
          "type": "POSE_KEYPOINT",
          "links": null,
          "shape": 3,
          "label": "姿态关键点"
        }
      ],
      "properties": {
        "Node name for S&R": "OpenposePreprocessor"
      },
      "widgets_values": [
        "enable",
        "enable",
        "enable",
        512
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 469,
      "type": "ControlNetApplyAdvanced",
      "pos": [
        -1221,
        1924
      ],
      "size": {
        "0": 315,
        "1": 166
      },
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 734,
          "label": "正面条件"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 735,
          "label": "负面条件"
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 736,
          "label": "ControlNet"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 737,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            740
          ],
          "shape": 3,
          "label": "正面条件",
          "slot_index": 0
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            741
          ],
          "shape": 3,
          "label": "负面条件",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetApplyAdvanced"
      },
      "widgets_values": [
        1,
        0,
        1
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 450,
      "type": "ControlNetLoader",
      "pos": [
        -1636,
        2130
      ],
      "size": {
        "0": 320,
        "1": 60
      },
      "flags": {},
      "order": 3,
      "mode": 0,
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            736
          ],
          "shape": 3,
          "label": "ControlNet",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "t2iadapter_zoedepth_sd15v1"
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 465,
      "type": "Zoe-DepthMapPreprocessor",
      "pos": [
        -1536,
        2342
      ],
      "size": {
        "0": 317.36370849609375,
        "1": 137.09922790527344
      },
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 684,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            737
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Zoe-DepthMapPreprocessor"
      },
      "widgets_values": [
        512
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 466,
      "type": "BrushNet",
      "pos": [
        -617,
        2007
      ],
      "size": {
        "0": 461.435302734375,
        "1": 418.9241638183594
      },
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 722,
          "label": "模型"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 720,
          "label": "VAE"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 719,
          "label": "图像"
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 721,
          "label": "遮罩"
        },
        {
          "name": "brushnet",
          "type": "BRMODEL",
          "link": 718,
          "label": "BrushNet",
          "slot_index": 4
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 740,
          "label": "正面条件"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 741,
          "label": "负面条件"
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "MODEL",
          "links": [
            723
          ],
          "shape": 3,
          "label": "模型",
          "slot_index": 0
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            727
          ],
          "shape": 3,
          "label": "正面条件",
          "slot_index": 1
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            728
          ],
          "shape": 3,
          "label": "负面条件",
          "slot_index": 2
        },
        {
          "name": "latent",
          "type": "LATENT",
          "links": [
            742
          ],
          "shape": 3,
          "label": "Latent",
          "slot_index": 3
        }
      ],
      "properties": {
        "Node name for S&R": "BrushNet"
      },
      "widgets_values": [
        1,
        0,
        10000
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 468,
      "type": "BrushNetLoader",
      "pos": [
        -1136,
        2321
      ],
      "size": {
        "0": 456.17718505859375,
        "1": 114.40619659423828
      },
      "flags": {},
      "order": 4,
      "mode": 0,
      "outputs": [
        {
          "name": "brushnet",
          "type": "BRMODEL",
          "links": [
            718
          ],
          "shape": 3,
          "label": "BrushNet"
        }
      ],
      "properties": {
        "Node name for S&R": "BrushNetLoader"
      },
      "widgets_values": [
        "segmentation_mask_brushnet_ckpt.safetensors",
        "float16"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 373,
      "type": "SaveImage",
      "pos": [
        1775,
        2654
      ],
      "size": {
        "0": 1366.3673095703125,
        "1": 2039.260498046875
      },
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 693,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "SaveImage"
      },
      "widgets_values": [
        "ComfyUI"
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 241,
      "type": "KSampler",
      "pos": [
        233,
        2037
      ],
      "size": {
        "0": 404.8324279785156,
        "1": 564.2545776367188
      },
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 723,
          "label": "模型"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 727,
          "label": "正面条件",
          "slot_index": 1
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 728,
          "label": "负面条件"
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 743,
          "label": "Latent"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            317
          ],
          "shape": 3,
          "label": "Latent",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        807738918936109,
        "decrement",
        30,
        6.1000000000000005,
        "dpmpp_2m",
        "karras",
        1
      ],
      "_widget_cache_map": {},
      "category": "Primitive Nodes"
    },
    {
      "id": 242,
      "type": "VAEDecode",
      "pos": [
        1230,
        2289
      ],
      "size": {
        "0": 310,
        "1": 50
      },
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 317,
          "label": "Latent"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 678,
          "label": "VAE",
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            693
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "category": "Primitive Nodes"
    },
    {
      "id": 470,
      "type": "CR Latent Batch Size",
      "pos": [
        -128,
        2204
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "latent",
          "type": "LATENT",
          "link": 742,
          "label": "Latent",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            743
          ],
          "shape": 3,
          "label": "Latent",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CR Latent Batch Size"
      },
      "widgets_values": [
        4
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 256,
      "type": "SAMDetectorCombined",
      "pos": [
        -1983,
        2749
      ],
      "size": {
        "0": 323.8123474121094,
        "1": 218
      },
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "sam_model",
          "type": "SAM_MODEL",
          "link": 335,
          "label": "SAM模型",
          "slot_index": 0
        },
        {
          "name": "segs",
          "type": "SEGS",
          "link": 336,
          "label": "Seg"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 701,
          "label": "图像",
          "slot_index": 2
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            341
          ],
          "shape": 3,
          "label": "遮罩",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "SAMDetectorCombined"
      },
      "widgets_values": [
        "center-1",
        0,
        0.93,
        0,
        0.7,
        "False"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 257,
      "type": "BboxDetectorSEGS",
      "pos": [
        -2593,
        2808
      ],
      "size": {
        "0": 325.03411865234375,
        "1": 224.62240600585938
      },
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 338,
          "label": "BBox检测"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 699,
          "label": "图像",
          "slot_index": 1
        },
        {
          "name": "detailer_hook",
          "type": "DETAILER_HOOK",
          "link": null,
          "slot_index": 2
        }
      ],
      "outputs": [
        {
          "name": "SEGS",
          "type": "SEGS",
          "links": [
            336
          ],
          "shape": 3,
          "label": "Seg",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "BboxDetectorSEGS"
      },
      "widgets_values": [
        0.5,
        10,
        3,
        10,
        "all"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 258,
      "type": "SAMLoader",
      "pos": [
        -2465,
        2616
      ],
      "size": {
        "0": 320,
        "1": 82
      },
      "flags": {},
      "order": 5,
      "mode": 0,
      "outputs": [
        {
          "name": "SAM_MODEL",
          "type": "SAM_MODEL",
          "links": [
            335
          ],
          "shape": 3,
          "label": "SAM模型",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "SAMLoader"
      },
      "widgets_values": [
        "sam_vit_b_01ec64.pth",
        "AUTO"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 253,
      "type": "UltralyticsDetectorProvider",
      "pos": [
        -2991,
        2743
      ],
      "size": {
        "0": 320,
        "1": 80
      },
      "flags": {},
      "order": 6,
      "mode": 0,
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [
            338
          ],
          "shape": 3,
          "label": "BBox检测",
          "slot_index": 0
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": [],
          "shape": 3,
          "label": "SEGM检测",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "UltralyticsDetectorProvider"
      },
      "widgets_values": [
        "bbox/face_yolov8m"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 262,
      "type": "GroundingDinoSAMSegment (segment anything)",
      "pos": [
        -1048,
        2859
      ],
      "size": {
        "0": 330,
        "1": 122
      },
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "sam_model",
          "type": "SAM_MODEL",
          "link": 343,
          "label": "SAM模型"
        },
        {
          "name": "grounding_dino_model",
          "type": "GROUNDING_DINO_MODEL",
          "link": 344,
          "label": "G-Dino模型",
          "slot_index": 1
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 704,
          "label": "图像",
          "slot_index": 2
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [],
          "shape": 3,
          "label": " 图像",
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            330
          ],
          "shape": 3,
          "label": "遮罩",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "GroundingDinoSAMSegment (segment anything)"
      },
      "widgets_values": [
        "person",
        0.5
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 261,
      "type": "SAMModelLoader (segment anything)",
      "pos": [
        -1635,
        3100
      ],
      "size": {
        "0": 320,
        "1": 60
      },
      "flags": {},
      "order": 7,
      "mode": 0,
      "outputs": [
        {
          "name": "SAM_MODEL",
          "type": "SAM_MODEL",
          "links": [
            325,
            343
          ],
          "shape": 3,
          "label": "SAM模型",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "SAMModelLoader (segment anything)"
      },
      "widgets_values": [
        "sam_vit_h_4b8939.pth"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 263,
      "type": "GroundingDinoModelLoader (segment anything)",
      "pos": [
        -1576,
        2965
      ],
      "size": {
        "0": 320,
        "1": 60
      },
      "flags": {},
      "order": 8,
      "mode": 0,
      "outputs": [
        {
          "name": "GROUNDING_DINO_MODEL",
          "type": "GROUNDING_DINO_MODEL",
          "links": [
            326,
            344
          ],
          "shape": 3,
          "label": "G-Dino模型",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "GroundingDinoModelLoader (segment anything)"
      },
      "widgets_values": [
        "GroundingDINO_SwinB (938MB)"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 248,
      "type": "GroundingDinoSAMSegment (segment anything)",
      "pos": [
        -1059,
        3414
      ],
      "size": {
        "0": 330,
        "1": 122
      },
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "sam_model",
          "type": "SAM_MODEL",
          "link": 325,
          "label": "SAM模型"
        },
        {
          "name": "grounding_dino_model",
          "type": "GROUNDING_DINO_MODEL",
          "link": 326,
          "label": "G-Dino模型",
          "slot_index": 1
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 706,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [],
          "shape": 3,
          "label": " 图像",
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            331
          ],
          "shape": 3,
          "label": "遮罩",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "GroundingDinoSAMSegment (segment anything)"
      },
      "widgets_values": [
        "hair",
        0.3
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 251,
      "type": "MaskComposite",
      "pos": [
        -437,
        2908
      ],
      "size": {
        "0": 330,
        "1": 130
      },
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "destination",
          "type": "MASK",
          "link": 330,
          "label": "目标遮罩",
          "slot_index": 0
        },
        {
          "name": "source",
          "type": "MASK",
          "link": 331,
          "label": "源遮罩"
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            340
          ],
          "shape": 3,
          "label": "遮罩",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "MaskComposite"
      },
      "widgets_values": [
        0,
        0,
        "xor"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 259,
      "type": "MaskComposite",
      "pos": [
        105,
        3050
      ],
      "size": {
        "0": 330,
        "1": 130
      },
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "destination",
          "type": "MASK",
          "link": 340,
          "label": "目标遮罩",
          "slot_index": 0
        },
        {
          "name": "source",
          "type": "MASK",
          "link": 341,
          "label": "源遮罩",
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            716
          ],
          "shape": 3,
          "label": "遮罩",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "MaskComposite"
      },
      "widgets_values": [
        0,
        0,
        "xor"
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 252,
      "type": "Mask Erode Region",
      "pos": [
        484,
        3039
      ],
      "size": {
        "0": 320,
        "1": 60
      },
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "masks",
          "type": "MASK",
          "link": 716,
          "label": "遮罩"
        }
      ],
      "outputs": [
        {
          "name": "MASKS",
          "type": "MASK",
          "links": [
            342
          ],
          "shape": 3,
          "label": "遮罩",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Mask Erode Region"
      },
      "widgets_values": [
        6
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 260,
      "type": "Mask Smooth Region",
      "pos": [
        314,
        3360
      ],
      "size": {
        "0": 320,
        "1": 60
      },
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "masks",
          "type": "MASK",
          "link": 342,
          "label": "遮罩"
        }
      ],
      "outputs": [
        {
          "name": "MASKS",
          "type": "MASK",
          "links": [
            356
          ],
          "shape": 3,
          "label": "遮罩",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Mask Smooth Region"
      },
      "widgets_values": [
        1
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    },
    {
      "id": 270,
      "type": "GrowMask",
      "pos": [
        998,
        3262
      ],
      "size": {
        "0": 320,
        "1": 82
      },
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 356,
          "label": "遮罩"
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            721
          ],
          "shape": 3,
          "label": "遮罩",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "GrowMask"
      },
      "widgets_values": [
        8,
        true
      ],
      "_widget_cache_map": {},
      "category": "Custom Nodes"
    }
  ],
  "links": [
    [
      317,
      241,
      0,
      242,
      0,
      "LATENT"
    ],
    [
      325,
      261,
      0,
      248,
      0,
      "SAM_MODEL"
    ],
    [
      326,
      263,
      0,
      248,
      1,
      "GROUNDING_DINO_MODEL"
    ],
    [
      330,
      262,
      1,
      251,
      0,
      "MASK"
    ],
    [
      331,
      248,
      1,
      251,
      1,
      "MASK"
    ],
    [
      335,
      258,
      0,
      256,
      0,
      "SAM_MODEL"
    ],
    [
      336,
      257,
      0,
      256,
      1,
      "SEGS"
    ],
    [
      338,
      253,
      0,
      257,
      0,
      "BBOX_DETECTOR"
    ],
    [
      340,
      251,
      0,
      259,
      0,
      "MASK"
    ],
    [
      341,
      256,
      0,
      259,
      1,
      "MASK"
    ],
    [
      342,
      252,
      0,
      260,
      0,
      "MASK"
    ],
    [
      343,
      261,
      0,
      262,
      0,
      "SAM_MODEL"
    ],
    [
      344,
      263,
      0,
      262,
      1,
      "GROUNDING_DINO_MODEL"
    ],
    [
      356,
      260,
      0,
      270,
      0,
      "MASK"
    ],
    [
      360,
      240,
      0,
      273,
      0,
      "CLIP"
    ],
    [
      657,
      246,
      0,
      247,
      0,
      "IMAGE"
    ],
    [
      661,
      240,
      0,
      461,
      0,
      "CLIP"
    ],
    [
      678,
      462,
      2,
      242,
      1,
      "VAE"
    ],
    [
      681,
      462,
      1,
      240,
      0,
      "CLIP"
    ],
    [
      684,
      247,
      0,
      465,
      0,
      "IMAGE"
    ],
    [
      685,
      247,
      0,
      448,
      0,
      "IMAGE"
    ],
    [
      693,
      242,
      0,
      373,
      0,
      "IMAGE"
    ],
    [
      699,
      247,
      0,
      257,
      1,
      "IMAGE"
    ],
    [
      701,
      247,
      0,
      256,
      2,
      "IMAGE"
    ],
    [
      704,
      247,
      0,
      262,
      2,
      "IMAGE"
    ],
    [
      706,
      247,
      0,
      248,
      2,
      "IMAGE"
    ],
    [
      716,
      259,
      0,
      252,
      0,
      "MASK"
    ],
    [
      718,
      468,
      0,
      466,
      4,
      "BRMODEL"
    ],
    [
      719,
      247,
      0,
      466,
      2,
      "IMAGE"
    ],
    [
      720,
      462,
      2,
      466,
      1,
      "VAE"
    ],
    [
      721,
      270,
      0,
      466,
      3,
      "MASK"
    ],
    [
      722,
      462,
      0,
      466,
      0,
      "MODEL"
    ],
    [
      723,
      466,
      0,
      241,
      0,
      "MODEL"
    ],
    [
      727,
      466,
      1,
      241,
      1,
      "CONDITIONING"
    ],
    [
      728,
      466,
      2,
      241,
      2,
      "CONDITIONING"
    ],
    [
      730,
      444,
      0,
      464,
      2,
      "CONTROL_NET"
    ],
    [
      731,
      448,
      0,
      464,
      3,
      "IMAGE"
    ],
    [
      732,
      461,
      0,
      464,
      0,
      "CONDITIONING"
    ],
    [
      733,
      273,
      0,
      464,
      1,
      "CONDITIONING"
    ],
    [
      734,
      464,
      0,
      469,
      0,
      "CONDITIONING"
    ],
    [
      735,
      464,
      1,
      469,
      1,
      "CONDITIONING"
    ],
    [
      736,
      450,
      0,
      469,
      2,
      "CONTROL_NET"
    ],
    [
      737,
      465,
      0,
      469,
      3,
      "IMAGE"
    ],
    [
      740,
      469,
      0,
      466,
      5,
      "CONDITIONING"
    ],
    [
      741,
      469,
      1,
      466,
      6,
      "CONDITIONING"
    ],
    [
      742,
      466,
      3,
      470,
      0,
      "LATENT"
    ],
    [
      743,
      470,
      0,
      241,
      3,
      "LATENT"
    ]
  ],
  "groups": [],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.20992832109438156,
      "offset": {
        "0": 6002.924327131718,
        "1": -837.6899740497547
      }
    },
    "0246.VERSION": [
      0,
      0,
      4
    ]
  },
  "version": 0.4
}